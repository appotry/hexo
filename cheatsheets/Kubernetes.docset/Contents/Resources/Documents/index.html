<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>Kubernetes</title>
<link href='style.css' rel='stylesheet'>
<link href='//dash_ref/Category/Creating Objects/1'>
<link href='//dash_ref_Creating Objects/Entry/Create resource(s) in a JSON or YAML file/0'>
<link href='//dash_ref_Creating Objects/Entry/Create resources in all .json, .yml, and .yaml files in dir/0'>
<link href='//dash_ref_Creating Objects/Entry/Create from a URL/0'>
<link href='//dash_ref_Creating Objects/Entry/Create multiple YAML objects from stdin/0'>
<link href='//dash_ref_Creating Objects/Entry/Create a secret with several keys/0'>
<link href='//dash_ref/Category/Viewing and Finding Resources/1'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List all namespaces in the cluster/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List all services in the namespace/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List all pods in all namespaces/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List all pods in the namespace, with more details/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List a particular replication controller/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List a particular RC/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List a particular node with verbose output/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List a particular pod with verbose output/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/Lists pods created by  using common prefix/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List services sorted by name/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List pods sorted by restart count/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/Get the version label of all pods with label app=cassandra/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/Get ExternalIPs of all nodes/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/List names of pods that belong to Particular RC/0'>
<link href='//dash_ref_Viewing and Finding Resources/Entry/Check which nodes are ready/0'>
<link href='//dash_ref/Category/Modifying and Deleting Resources/1'>
<link href='//dash_ref_Modifying and Deleting Resources/Entry/Add a label/0'>
<link href='//dash_ref_Modifying and Deleting Resources/Entry/Add an annotation/0'>
<link href='//dash_ref/Category/Interacting with Running Pods/1'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Dump pod logs (stdout)/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Stream pod logs (stdout) until canceled (ctrl-c) or timeout/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Run pod as interactive shell/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Attach to running container/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Forward port of pod to your local machine/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Forward port to service/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Run command in existing pod (1 container case)/0'>
<link href='//dash_ref_Interacting with Running Pods/Entry/Run command in existing pod (multi-container case)/0'>
</head>
<body>
<header>
<h1>Kubernetes</h1>
</header>
<article>
<p></p>
<section class='category'>
<h2 id='//dash_ref/Category/Creating Objects/1'>
Creating Objects
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Creating Objects/Entry/Create resource(s) in a JSON or YAML file/0'>
<td class='description' colspan='2'>
<div class='name'><p>Create resource(s) in a JSON or YAML file</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl create -f ./file.yml&#x000A;kubectl create -f ./file1.yml -f ./file2.yaml</pre></div>
</td>
</tr>
<tr id='//dash_ref_Creating Objects/Entry/Create resources in all .json, .yml, and .yaml files in dir/0'>
<td class='description' colspan='2'>
<div class='name'><p>Create resources in all .json, .yml, and .yaml files in dir</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl create -f ./dir</pre></div>
</td>
</tr>
<tr id='//dash_ref_Creating Objects/Entry/Create from a URL/0'>
<td class='description' colspan='2'>
<div class='name'><p>Create from a URL</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl create -f http://www.fpaste.org/279276/48569091/raw/</pre></div>
</td>
</tr>
<tr id='//dash_ref_Creating Objects/Entry/Create multiple YAML objects from stdin/0'>
<td class='description' colspan='2'>
<div class='name'><p>Create multiple YAML objects from stdin</p>
</div>
<div class='notes'><pre class="highlight plaintext">cat &lt;&lt;EOF | kubectl create -f -&#x000A;apiVersion: v1&#x000A;kind: Pod&#x000A;metadata:&#x000A;  name: busybox-sleep&#x000A;spec:&#x000A;  containers:&#x000A;  - name: busybox&#x000A;    image: busybox&#x000A;    args:&#x000A;    - sleep&#x000A;    - "1000000"&#x000A;---&#x000A;apiVersion: v1&#x000A;kind: Pod&#x000A;metadata:&#x000A;  name: busybox-sleep-less&#x000A;spec:&#x000A;  containers:&#x000A;  - name: busybox&#x000A;    image: busybox&#x000A;    args:&#x000A;    - sleep&#x000A;    - "1000"&#x000A;EOF</pre></div>
</td>
</tr>
<tr id='//dash_ref_Creating Objects/Entry/Create a secret with several keys/0'>
<td class='description' colspan='2'>
<div class='name'><p>Create a secret with several keys</p>
</div>
<div class='notes'><pre class="highlight plaintext">cat &lt;&lt;EOF | kubectl create -f -&#x000A;apiVersion: v1&#x000A;kind: Secret&#x000A;metadata:&#x000A;  name: mysecret&#x000A;type: Opaque&#x000A;data:&#x000A;  password: $(echo "s33msi4" | base64)&#x000A;  username: $(echo "jane" | base64)&#x000A;EOF</pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Viewing and Finding Resources/1'>
Viewing and Finding Resources
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List all namespaces in the cluster/0'>
<td class='description' colspan='2'>
<div class='name'><p>List all namespaces in the cluster</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get namespaces</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List all services in the namespace/0'>
<td class='description' colspan='2'>
<div class='name'><p>List all services in the namespace</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get services</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List all pods in all namespaces/0'>
<td class='description' colspan='2'>
<div class='name'><p>List all pods in all namespaces</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get pods --all-namespaces</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List all pods in the namespace, with more details/0'>
<td class='description' colspan='2'>
<div class='name'><p>List all pods in the namespace, with more details</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get pods -o wide</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List a particular replication controller/0'>
<td class='description' colspan='2'>
<div class='name'><p>List a particular replication controller</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get rc &lt;rc-name&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List a particular RC/0'>
<td class='description' colspan='2'>
<div class='name'><p>List a particular RC</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get replicationcontroller &lt;rc-name&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List a particular node with verbose output/0'>
<td class='description' colspan='2'>
<div class='name'><p>List a particular node with verbose output</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl describe nodes &lt;node-name&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List a particular pod with verbose output/0'>
<td class='description' colspan='2'>
<div class='name'><p>List a particular pod with verbose output</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl describe pods &lt;pod-name&gt;&#x000A;kubectl describe pods/&lt;pod-name&gt; # Equivalent to previous</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/Lists pods created by  using common prefix/0'>
<td class='description' colspan='2'>
<div class='name'><p>Lists pods created by <rc-name> using common prefix</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl describe pods &lt;rc-name&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List services sorted by name/0'>
<td class='description' colspan='2'>
<div class='name'><p>List services sorted by name</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get services --sort-by=.metadata.name</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List pods sorted by restart count/0'>
<td class='description' colspan='2'>
<div class='name'><p>List pods sorted by restart count</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get pods --sort-by=.status.containerStatuses[0].restartCount</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/Get the version label of all pods with label app=cassandra/0'>
<td class='description' colspan='2'>
<div class='name'><p>Get the version label of all pods with label app=cassandra</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get pods --selector=app=cassandra rc -o 'jsonpath={.items[*].metadata.labels.version}'</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/Get ExternalIPs of all nodes/0'>
<td class='description' colspan='2'>
<div class='name'><p>Get ExternalIPs of all nodes</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get nodes -o jsonpath='{.items[*].status.addresses[?(@.type=="ExternalIP")].address}'</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/List names of pods that belong to Particular RC/0'>
<td class='description' colspan='2'>
<div class='name'><p>List names of pods that belong to Particular RC</p>
</div>
<div class='notes'><pre class="highlight plaintext"># "jq" command useful for transformations that are too complex for jsonpath&#x000A;sel=$(./kubectl get rc &lt;rc-name&gt; --output=json | jq -j '.spec.selector | to_entries | .[] | "\(.key)=\(.value),"')&#x000A;sel=${sel%?} # Remove trailing comma&#x000A;pods=$(kubectl get pods --selector=$sel --output=jsonpath={.items..metadata.name})`</pre></div>
</td>
</tr>
<tr id='//dash_ref_Viewing and Finding Resources/Entry/Check which nodes are ready/0'>
<td class='description' colspan='2'>
<div class='name'><p>Check which nodes are ready</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl get nodes -o jsonpath='{range .items[*]}{@.metadata.name}:{range @.status.conditions[*]}{@.type}={@.status};{end}{end}'| tr ';' "\n"  | grep "Ready=True"</pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Modifying and Deleting Resources/1'>
Modifying and Deleting Resources
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Modifying and Deleting Resources/Entry/Add a label/0'>
<td class='description' colspan='2'>
<div class='name'><p>Add a label</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl label pods &lt;pod-name&gt; new-label=awesome</pre></div>
</td>
</tr>
<tr id='//dash_ref_Modifying and Deleting Resources/Entry/Add an annotation/0'>
<td class='description' colspan='2'>
<div class='name'><p>Add an annotation</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl annotate pods &lt;pod-name&gt; icon-url=http://goo.gl/XXBTWq</pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='category'>
<h2 id='//dash_ref/Category/Interacting with Running Pods/1'>
Interacting with Running Pods
</h2>
<div class='scrollable'>
<table>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Dump pod logs (stdout)/0'>
<td class='description' colspan='2'>
<div class='name'><p>Dump pod logs (stdout)</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl logs &lt;pod-name&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Stream pod logs (stdout) until canceled (ctrl-c) or timeout/0'>
<td class='description' colspan='2'>
<div class='name'><p>Stream pod logs (stdout) until canceled (ctrl-c) or timeout</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl logs -f &lt;pod-name&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Run pod as interactive shell/0'>
<td class='description' colspan='2'>
<div class='name'><p>Run pod as interactive shell</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl run -i --tty busybox --image=busybox -- sh</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Attach to running container/0'>
<td class='description' colspan='2'>
<div class='name'><p>Attach to running container</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl attach &lt;podname&gt; -i</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Forward port of pod to your local machine/0'>
<td class='description' colspan='2'>
<div class='name'><p>Forward port of pod to your local machine</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl port-forward &lt;podname&gt; &lt;local-and-remote-port&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Forward port to service/0'>
<td class='description' colspan='2'>
<div class='name'><p>Forward port to service</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl port-forward &lt;servicename&gt; &lt;port&gt;</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Run command in existing pod (1 container case)/0'>
<td class='description' colspan='2'>
<div class='name'><p>Run command in existing pod (1 container case)</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl exec &lt;pod-name&gt; -- ls /</pre></div>
</td>
</tr>
<tr id='//dash_ref_Interacting with Running Pods/Entry/Run command in existing pod (multi-container case)/0'>
<td class='description' colspan='2'>
<div class='name'><p>Run command in existing pod (multi-container case)</p>
</div>
<div class='notes'><pre class="highlight plaintext">kubectl exec &lt;pod-name&gt; -c &lt;container-name&gt; -- ls /</pre></div>
</td>
</tr>
</table>
</div>
</section>
<section class='notes'>
<h2>Notes</h2>
<ul>
<li>Adapted from the official Kubernetes documentation cheatsheet: <a href="http://kubernetes.io/docs/user-guide/kubectl-cheatsheet/">http://kubernetes.io/docs/user-guide/kubectl-cheatsheet/</a>.</li>
</ul>

</section>
</article>
<footer>
You can modify and improve this cheat sheet <a onclick="window.dash.openExternal_(this.href); return false;" href="http://cheat.kapeli.com">here</a>
</footer>
</body>
</html>
