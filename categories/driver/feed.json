{
    "version": "https://jsonfeed.org/version/1",
    "title": "夜法之书 • All posts by \"driver\" category",
    "description": "~软件驱动世界~",
    "home_page_url": "https://blog.17lai.site",
    "items": [
        {
            "id": "https://blog.17lai.site/posts/ed364362/",
            "url": "https://blog.17lai.site/posts/ed364362/",
            "title": "如何编写Linux驱动？",
            "date_published": "2022-07-28T09:32:45.000Z",
            "content_html": "<blockquote>\n<p>本文介绍了编写驱动必备基础知识，编写驱动的难点之处。并从按键驱动到Sensor驱动简单介绍示范了驱动编写过程。并给出了驱动学习方法和评价驱动能力的技术指标！</p>\n</blockquote>\n<span id=\"more\"></span>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/27/20220727180235.webp\" alt=\"\"></p>\n<h2 id=\"驱动学习\">驱动学习</h2>\n<p>•整个内核70%以上是各种驱动代码</p>\n<p>•每一个你日常使用的小功能背后都有复杂的实现！</p>\n<blockquote>\n<p>•Linux 驱动程序设计模式（40%） <strong>char</strong>，block，net，input，pci，usb，<strong>Platform</strong>（bus，device，driver），kset，kobject，proc，sysfs，<strong>ioctl</strong>，mmap，miscdevice, softirq，tasklet，workqueue， console，</p>\n<p>•内核相关知识（30%）：内核目录结构，内存访问，ipc，锁，内核数据结构，不通内核版本api，热拔插netlink，内核线程,中断处理（注册，共享），设备树，</p>\n<p>•硬件相关知识（30%）： 总线，协议（I2C，I2S，SPI，USB，PCI，sensor，bt1120，bt656，LCD），各种CPU、传感器（ADC，sensor，temperature etc）工作原理</p>\n</blockquote>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/27/20220727180227.webp\" alt=\"Linux kernel map\"></p>\n<h2 id=\"前置基础知识\">前置基础知识</h2>\n<ul>\n<li>\n<p>模拟电路，数字电路</p>\n</li>\n<li>\n<p>硬件总线协议，各种RFC文档；</p>\n</li>\n<li>\n<p>了解硬件电路设计，能看懂电路图。示波器等工具的使用</p>\n</li>\n<li>\n<p>对C语言了如指掌，各种特殊宏的用法，对内核基本数据结构了解。</p>\n</li>\n<li>\n<p>熟悉C系统编程，应用层编程</p>\n</li>\n<li>\n<p>内核软件子系统，各种软件框架</p>\n</li>\n</ul>\n<blockquote>\n<p>上述知识你都有了一定了解之后，你才能开始尝试去开发驱动了！</p>\n<p>学习曲线非常陡峭，必须一次性踏上台阶，否则后续又得重新攀爬。</p>\n</blockquote>\n<h2 id=\"编写驱动困难之处\">编写驱动困难之处</h2>\n<blockquote>\n<ul>\n<li>\n<p>打怪升级困难。要有硬件项目才能给你升级涨经验！一个公司硬件项目周期极长，可能几年都做不了几个新硬件项目</p>\n</li>\n<li>\n<p>新手与熟手完成同样任务时间差异极大！强者越强，你有经验，有难度的活都给你，你没经验，练手的机会都不会给你</p>\n</li>\n<li>\n<p>一切都是以懵懂中开始的。内核代码量太大，你不可能都熟悉之后再开始动手修改。内核版本之间接口一直变动，没有稳定的软件方法。接口总线RFC文档太长，一般至少几千页的英文文档，你不可能都看完才开始动手。硬件设计可能有漏洞，不是官方设计出错，而是现实情况是当初设计RFC标准的人就没有考虑到这种异常情况</p>\n</li>\n<li>\n<p>不同总线接口调试方法和工具差异极大，和医院不同科室使用不同工具差不多，你会不会某种工具，可能使你的效率差异几十倍</p>\n</li>\n<li>\n<p>软件开发，你有一台电脑就足够了。硬件驱动开发，必须有对应的硬件开发板，调试工具Jtag，PC端调试工具一整套才能开始工作</p>\n</li>\n</ul>\n</blockquote>\n<p>写驱动好比挖隧道</p>\n<ul>\n<li>不知道隧道下面什么地质情况，什么岩层结构，是否好施工</li>\n<li>是否有地下水，多大的地下水没法确定</li>\n<li>是否能完工没法确定</li>\n<li>完工时间多久没法确定</li>\n<li>在你完工之前，你不知道还需要多长时间才能完工，是否能完工都不清楚</li>\n<li>等等</li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709.webp\" alt=\"\"></p>\n<p>写驱动，就是给你一个垃圾场，要你组装出来一个能走动的钟表！</p>\n<ul>\n<li>不知道是否缺少零件，你要对整个软硬件构架了如指掌，比硬件更熟悉硬件</li>\n<li>零件是否损坏，有可能多个零件，这个损坏，哪个没有损坏，你换一个同样的零件，说不定可行，也可能不可行</li>\n<li>零件是否符合设计规范性能，有可能这个设计错误，根本就是不可能成功的</li>\n<li>这个零件的说明书和零件是否匹配，给错了没有？外行连给到手的资料判断是否正确资料的能力都没有</li>\n<li>由于你的上游一开始拿到的也是错误的资料，所以给你的也是错误资料</li>\n<li>由于商业，保密等各种原因，一开始就给你错误的资料，故意不给你正确资料的情况也有</li>\n<li>零件是否完好，是否工作正常</li>\n<li>在你组装好，能走动之前，你不知道能否组装好手表</li>\n<li>组成的钟表走时快慢是否正常，能够走动起来，说明零件大抵不差了，是驱动开发决定性进展</li>\n<li>钟表能走动了，后续就是走时准确的调整。性能优化，续航优化，软件框架优化，内存优化，稳定性优化，电磁兼容等等</li>\n</ul>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-1.webp\" alt=\"\"></p>\n<p>从一堆垃圾零件，组装出来一个能走的钟表！从上图到下图的过程！</p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-2.webp\" alt=\"\"></p>\n<h3 id=\"实现出来\">实现出来</h3>\n<p>组装好，把驱动跑起来是第一步</p>\n<h3 id=\"性能优化\">性能优化</h3>\n<p>对于访问外设emmc，不同时序参数访问性能差距很大。对跑分影响很大！</p>\n<h3 id=\"续航优化\">续航优化</h3>\n<p>不用外设时，可以关闭对应外设电源，或者根据负载动态调节</p>\n<h3 id=\"内存优化\">内存优化</h3>\n<p>内存占用，Zero Copy，指针传递</p>\n<h3 id=\"稳定性优化\">稳定性优化</h3>\n<p>稳定性，眼图，高速性能</p>\n<h3 id=\"电磁兼容\">电磁兼容</h3>\n<p>电磁兼容测试，各种标准</p>\n<p>等等其它方面</p>\n<blockquote>\n<p>驱动开发深入下去，是一座又一座高山需要攀爬，但基本的驱动开发还是不难的。</p>\n</blockquote>\n<h2 id=\"驱动案例\">驱动案例</h2>\n<blockquote>\n<p>每一个外设都有复杂的物理，材料，结构，光学，工艺，版本等等各种复杂因素需要研究，考虑。当然不是每个外设都这么复杂，复杂的摄像头子系统涉及的知识技术几年就研究不完！</p>\n<p>每一款芯片构架差异都很大，会有不同的内核软件构架，德州仪器TI一份完整的芯片手册就有3000多页，至少看完前四章（几百页英文文档）才能说对芯片有基本了解。</p>\n</blockquote>\n<h3 id=\"简单的按键\">简单的按键</h3>\n<blockquote>\n<p>按键硬件设计方法常用的就有3、4种。每种硬件设计，内核就要好几种软件框架可以实现它。</p>\n<p>学习驱动可以从它开始。万里长征第一步，后面慢慢学习I2C，SPI, NAND等外设驱动。</p>\n</blockquote>\n<h3 id=\"摄像头驱动介绍\">摄像头驱动介绍</h3>\n<blockquote>\n<p>可以说是整个手机最复杂的外设驱动！研究两年只能说刚入门。</p>\n<p>3A算法是核心： AWB 启动白平衡，AE自动曝光，AF自动对焦</p>\n<p>理论上就没有完善的解决方案，只有近似解决方案。技术理论发展很快，经常有新技术和方法出来。</p>\n<p>感觉这个很复杂？很正常，整套软件系统自己搞定就需要几十人的团队，一般也就是需要修改整套系统种的某一部分。Sensor驱动，ISP tunning等。</p>\n</blockquote>\n<p>下面简单图解ISP驱动相关知识</p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-3.webp\" alt=\"图像采集系统\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-4.webp\" alt=\"定焦镜头结构\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-5.webp\" alt=\"人眼三色光响应\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-6.webp\" alt=\"Sensor RGB分量敏感曲线\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-7.webp\" alt=\"某芯片ISP构架\"></p>\n<p><img src=\"https://cimg1.17lai.site/data/2022/07/29/20220729003709-8.webp\" alt=\"ISP构架流程\"></p>\n<h3 id=\"涉及到Sensor专有知识点有\">涉及到Sensor专有知识点有</h3>\n<ul>\n<li>黑电平与线性化</li>\n<li>Green Imbalance</li>\n<li>坏点消除</li>\n<li>Vignetting 与 Color shading</li>\n<li>SNR 与 Raw Denoise</li>\n<li>Dynamic Range 与 Tone Mapping</li>\n<li>MTF 与 Demosaic</li>\n<li>色彩空间与色彩重建</li>\n<li>Color Correction Matrix 与 3D LUT</li>\n<li>Gamma与对比度增强</li>\n<li>Sharpening</li>\n<li>Color Space Conversion</li>\n<li>空域降噪</li>\n<li>时域降噪</li>\n<li>Color Aberrance Corrention and Depurple</li>\n<li>闪光灯</li>\n<li>HDR</li>\n<li>Exif 与 DNG</li>\n<li>图像防抖</li>\n<li>编解码知识 H264 H265等</li>\n</ul>\n<blockquote>\n<p>Sensor子系统涉及到的知识大概有如上，个人做过的最复杂的子系统就这个了。</p>\n<p>会写简单驱动，到会写sensor驱动，到会写ISP系统，中间都隔了几年时间差距。</p>\n</blockquote>\n<h2 id=\"驱动的技术级别\">驱动的技术级别</h2>\n<p>要做好驱动，要熟悉硬件，总线协议，要会怀疑每一处地方，其它每个人给的信息都可能是错误的，如何定位这个错误就是驱动的工作。成功的路径只有一个，而失败的路径千千万万,驱动的的工作就是找到这条成功的路。</p>\n<h3 id=\"必备：入门水平\">必备：入门水平</h3>\n<p>必备：入门水平，能在别人指导下完成一些简单驱动开发。在一些深入，系统学习后进入下一阶段。</p>\n<ul>\n<li>\n<p>基本的数电模电基础。</p>\n</li>\n<li>\n<p>熟悉一些常用开发工具。</p>\n</li>\n<li>\n<p>熟悉linux 内核基本驱动框架。懂得基本内核原理。</p>\n</li>\n<li>\n<p>独立实现过char字符设备。</p>\n</li>\n<li>\n<p>调试过一些常见总线接口设备。比如常见的I2C，SPI设备。</p>\n</li>\n</ul>\n<h3 id=\"中等水平\">中等水平</h3>\n<p>中等水平：能够按照指示完成任务，需要大量的时间和大量产品开发慢慢积累经验，完成本阶段进阶。</p>\n<p>熟练使用各种开发工具。</p>\n<p>对linux驱动绝大部分常用框架都有研究。</p>\n<p>能够进行ip core外围器件级别的移植。</p>\n<p>熟悉内核锁的使用，了解中断上下文。</p>\n<p>能够分析定位解决时序问题。</p>\n<p>用gpio模拟实现过I2C，SPI等总线驱动。</p>\n<p>对oops定位分析，驱动调试熟悉。</p>\n<p>对proc，sys，debugfs熟悉或者做过。</p>\n<p>能够在现有驱动基础上修改，阅读datasheet对接新硬件。</p>\n<p>在一些行业应用领域能够在fae帮助下完成外围设备驱动。</p>\n<p>了解arm硬件构架，懂得基本arm汇编指令。基本c程序优化。</p>\n<p>懂得基本pcb升级，打板贴片流程。</p>\n<p>能够解决大部分硬件异常问题。</p>\n<h3 id=\"高手进阶\">高手进阶</h3>\n<p>高手进阶：能够独当一面，带领团队。</p>\n<p>工具什么的无所谓，有自己一套最高效的配置工具。</p>\n<p>能够进行ip core级别的移植。</p>\n<p>熟悉并懂得使用各种内核锁，能用内核线程实现一些复杂需求，中断上下文实现都有做过。</p>\n<p>对应用层构架各种技术方法也都非常熟悉。</p>\n<p>知道单核、多核同构、异构构架的内核、驱动、应用层设计差异及处理方法，优化方法。</p>\n<p>熟悉arm构架，arm指令集。懂得怎么根据硬件构架，芯片指令集优化程序。</p>\n<p>知道怎么使用汇编，cache优化。知道cache一致性原理及其实现。</p>\n<p>深入研究过linux内核实现机制。</p>\n<p>熟悉编译，汇编，链接原理。能够定位一些复杂问题，知道怎么通过编译器，链接器实现一些非标准的功能。</p>\n<p>独立实现过绝大部分外围驱动。</p>\n<p>能够独立从头开始实现一些复杂框架驱动。例如网络设备，视频设备等。</p>\n<p>在一些具体应用业务上研究的非常深入，达到行业一流水平。</p>\n<p>深入研究过绝大部分总线接口。比如音视频接口，编解码，usb，网络等业务。</p>\n<p>画过pcb，或者至少了解pcb设计，绘制，打板过程中的各种问题。</p>\n<p>能够熟练协助硬件定位解决各种问题。</p>\n<h3 id=\"超一流高手进阶\">超一流高手进阶</h3>\n<p>超一流高手进阶：技术方面基本没有什么可以难倒你的了。</p>\n<p>自己去实现基本的uboot，内核。</p>\n<p>能够自己设计实现全新的内核框架。</p>\n<p>开始一些具体应用的结构，物理，数学，光学等方面深入研究。</p>\n<p>一些问题能否解决，怎么解决，更多的从数学角度分析。</p>\n<p>参与主线linux kernel开发。</p>\n<p>对hdl，Verilog深入了解，自己设计芯片ip core。</p>\n<blockquote>\n<p>以上都是个人见解，仅供参考！</p>\n</blockquote>\n<h2 id=\"参考-11\">参考</h2>\n<h3 id=\"相关书籍-3\">相关书籍</h3>\n<h4 id=\"Linux内核完全注释-3\">Linux内核完全注释</h4>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" href=\"https://book.douban.com/subject/1231236\">\n        <div loading=\"lazy\" class=\"douban-card-bgimg\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img1.doubanio.com/view/subject/s/public/s8955528.jpg');\">\n        </div>\n        <div class=\"douban-card-left\">\n            <div loading=\"lazy\" class=\"douban-card-img\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img1.doubanio.com/view/subject/s/public/s8955528.jpg');\">\n            </div>\n            <div class=\"douban-card-status\">见字如晤</div>\n        </div>\n        <div class=\"douban-card-right\" style=\"line-height: 1.7;\">\n            <div class=\"douban-card-item\"><span>书名: </span><strong>Linux内核完全注释</strong></div>\n            <div class=\"douban-card-item\"><span>作者: </span><span>赵炯</span></div>\n            <div class=\"douban-card-item\"><span>出版年份: </span><span>2005-8</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>8.5</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n\n<h4 id=\"Linux设备驱动程序\">Linux设备驱动程序</h4>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" href=\"https://book.douban.com/subject/1723151\">\n        <div loading=\"lazy\" class=\"douban-card-bgimg\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img1.doubanio.com/view/subject/s/public/s27318527.jpg');\">\n        </div>\n        <div class=\"douban-card-left\">\n            <div loading=\"lazy\" class=\"douban-card-img\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img1.doubanio.com/view/subject/s/public/s27318527.jpg');\">\n            </div>\n            <div class=\"douban-card-status\">我读过这本书</div>\n        </div>\n        <div class=\"douban-card-right\" style=\"line-height: 1.7;\">\n            <div class=\"douban-card-item\"><span>书名: </span><strong>Linux设备驱动程序</strong></div>\n            <div class=\"douban-card-item\"><span>作者: </span><span>科波特</span></div>\n            <div class=\"douban-card-item\"><span>出版年份: </span><span>2006-1-1</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>8.7</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n\n<h4 id=\"Linux设备驱动开发详解\">Linux设备驱动开发详解</h4>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" href=\"https://book.douban.com/subject/2984156\">\n        <div loading=\"lazy\" class=\"douban-card-bgimg\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img1.doubanio.com/view/subject/s/public/s2961178.jpg');\">\n        </div>\n        <div class=\"douban-card-left\">\n            <div loading=\"lazy\" class=\"douban-card-img\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img1.doubanio.com/view/subject/s/public/s2961178.jpg');\">\n            </div>\n            <div class=\"douban-card-status\">见字如晤</div>\n        </div>\n        <div class=\"douban-card-right\" style=\"line-height: 1.7;\">\n            <div class=\"douban-card-item\"><span>书名: </span><strong>Linux设备驱动开发详解</strong></div>\n            <div class=\"douban-card-item\"><span>作者: </span><span>宋宝华</span></div>\n            <div class=\"douban-card-item\"><span>出版年份: </span><span>2008-2</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>8.2</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n\n<blockquote>\n<p>上面两本是介绍Linux kernel软件驱动框架的</p>\n</blockquote>\n<h4 id=\"Link-and-loader\">Link and loader</h4>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" href=\"https://book.douban.com/subject/1436811\">\n        <div loading=\"lazy\" class=\"douban-card-bgimg\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img2.doubanio.com/view/subject/s/public/s29890612.jpg');\">\n        </div>\n        <div class=\"douban-card-left\">\n            <div loading=\"lazy\" class=\"douban-card-img\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img2.doubanio.com/view/subject/s/public/s29890612.jpg');\">\n            </div>\n            <div class=\"douban-card-status\">见字如晤</div>\n        </div>\n        <div class=\"douban-card-right\" style=\"line-height: 1.7;\">\n            <div class=\"douban-card-item\"><span>书名: </span><strong>LinkersandLoaders</strong></div>\n            <div class=\"douban-card-item\"><span>作者: </span><span>JohnR.Levine</span></div>\n            <div class=\"douban-card-item\"><span>出版年份: </span><span>October1999</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>8.9</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n\n<h4 id=\"Linux内核源代码情景分析（上册）\">Linux内核源代码情景分析（上册）</h4>\n<div class=\"douban-card-block\">\n    <a class=\"douban-card\" href=\"https://book.douban.com/subject/1231584\">\n        <div loading=\"lazy\" class=\"douban-card-bgimg\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img9.doubanio.com/view/subject/s/public/s5917265.jpg');\">\n        </div>\n        <div class=\"douban-card-left\">\n            <div loading=\"lazy\" class=\"douban-card-img\" style=\"background-image: url('https://pic1.xuehuaimg.com/proxy/https://img9.doubanio.com/view/subject/s/public/s5917265.jpg');\">\n            </div>\n            <div class=\"douban-card-status\">见字如晤</div>\n        </div>\n        <div class=\"douban-card-right\" style=\"line-height: 1.7;\">\n            <div class=\"douban-card-item\"><span>书名: </span><strong>Linux内核源代码情景分析（上册）</strong></div>\n            <div class=\"douban-card-item\"><span>作者: </span><span>毛德操</span></div>\n            <div class=\"douban-card-item\"><span>出版年份: </span><span>2001-9</span></div>\n            <div class=\"douban-card-item\"><span>评分: </span><span>8.7</span></div>\n        </div>\n    </a>\n</div>\n<style>\n    .douban-card-block {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    max-height: 400px;\n}\n\n.douban-card {\n    display: flex;\n    margin: 30px 10px;\n    padding: 15px;\n    border-radius: 15px;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    overflow: hidden;\n    color: antiquewhite;\n    text-decoration: none;\n}\n\n.douban-card:hover {\n    text-decoration: none;\n}\n\n.douban-card-bgimg {\n    position: absolute;\n    width: 115%;\n    height: 115%;\n    filter: blur(15px) brightness(0.6);\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-img {\n    position: relative;\n    height: 130px;\n    width: 80px;\n    background-size: 100%;\n    background-position: center;\n    background-repeat: no-repeat;\n}\n\n.douban-card-left:hover .douban-card-img {\n    filter: blur(5px) brightness(0.6);\n    transform: perspective(800px) rotateX(180deg);\n}\n\n.douban-card-left .douban-card-img {\n    transition: all 500ms ease;\n}\n\n.douban-card-left {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.douban-card-left .douban-card-status {\n    height: 130px;\n    width: 80px;\n    text-align: center;\n    font-weight: bold;\n    position: absolute;\n    left: 0;\n    top: 30%;\n    transform: rotateX(180deg);\n    backface-visibility: hidden;\n    transition: all 500ms ease;\n}\n\n.douban-card-left:hover .douban-card-status {\n    transform: perspective(800px) rotateX(0deg);\n}\n\n.douban-card-right {\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    margin-left: 12px;\n    font-size: 16px;\n    font-family: \"Courier New\", Courier, monospace;\n    line-height: 1.3;\n    color: antiquewhite;\n}\n\n.douban-card-item {\n    margin-top: 4px;\n}\n\n</style>\n\n<h2 id=\"相关文章-5\">相关文章</h2>\n<div class=\"vkr-url-wrapper\">\n    \n        <a href=\"/posts/ed364362/\"><img class=\"avatar\" src=\"/medias_webp/cover/linux.webp\"></a>\n    \n    <div class=\"desc-wrapper\">\n        <a href=\"/posts/ed364362/\">如何编写Linux驱动</a>\n        <hr>\n        <div class=\"desc\">本文介绍了编写驱动必备基础知识，编写驱动的难点之处。并从按键驱动到Sensor驱动简单介绍示范了驱动编写过程。并给出了驱动学习方法和评价驱动能力的技术指标！</div>\n    </div>\n</div>\n<div class=\"vkr-url-wrapper\">\n    \n        <a href=\"/posts/6b2ba137/\"><img class=\"avatar\" src=\"/medias_webp/cover/3g4g.webp\"></a>\n    \n    <div class=\"desc-wrapper\">\n        <a href=\"/posts/6b2ba137/\">3G,4G,Wifi选型需求分析及技术简介</a>\n        <hr>\n        <div class=\"desc\">详细介绍了3G，4G，wifi技术类型，选型，移植，性能介绍全过程。写了好多年了，禁止转载，第一次公开发表。</div>\n    </div>\n</div>\n<div class=\"vkr-url-wrapper\">\n    \n        <a href=\"/posts/13894dce/\"><img class=\"avatar\" src=\"/medias_webp/cover/hisi.webp\"></a>\n    \n    <div class=\"desc-wrapper\">\n        <a href=\"/posts/13894dce/\">海思MPP&amp;UNF构架源代码级分析</a>\n        <hr>\n        <div class=\"desc\">行业中分析海思MPP内核构架，源码分析，多年经验总结积累结果。写了好多年了，禁止转载，第一次公开发表。</div>\n    </div>\n</div>\n<div class=\"vkr-url-wrapper\">\n    \n        <a href=\"/posts/ffcce55d/\"><img class=\"avatar\" src=\"/medias_webp/cover/os.webp\"></a>\n    \n    <div class=\"desc-wrapper\">\n        <a href=\"/posts/ffcce55d/\">如何实现自己的操作系统</a>\n        <hr>\n        <div class=\"desc\">作为一个程序员，你肯定设想过创造属于自己的操作系统，这其中涉及非常多的知识。本文大概介绍了涉及的知识点，并给出了相关书籍和参考源代码仓库！</div>\n    </div>\n</div>\n<div class=\"vkr-url-wrapper\">\n    \n        <a href=\"/posts/32570315/\"><img class=\"avatar\" src=\"/medias_webp/cover/compiler.webp\"></a>\n    \n    <div class=\"desc-wrapper\">\n        <a href=\"/posts/32570315/\">手把手教你构建 C 语言编译器</a>\n        <hr>\n        <div class=\"desc\">“手把手教你构建 C 语言编译器” 这一系列教程将带你从头编写一个 C 语言的编译器。希望通过这个系列，我们能对编译器的构建有一定的了解，同时，我们也将构建出一个能用的 C 语言编译器，尽管有许多语法并不支持。</div>\n    </div>\n</div>\n<h2 id=\"系列教程-17\"><strong>系列教程</strong></h2>\n<p><a href=\"/atom.xml\">全部文章RSS订阅</a></p>\n<h3 id=\"系统编程系列-3\"><strong>系统编程系列</strong></h3>\n<ul>\n<li><a href=\"/posts/ffcce55d/\">如何实现自己的操作系统</a></li>\n<li><a href=\"/posts/32570315/\">手把手教你构建 C 语言编译器</a></li>\n<li><a href=\"/posts/ed364362/\">如何编写Linux驱动？</a></li>\n</ul>\n<link rel=\"stylesheet\" href=\"/css/bilicard.css\" type=\"text/css\">",
            "tags": [
                "linux",
                "driver",
                "驱动",
                "sensor"
            ]
        }
    ]
}