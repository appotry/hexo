HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this);this.parentNode.removeChild(this);e.appendChild(this)};Matery.plugins={typing:function(e){if(!("Typed"in window)){return}var a=new window.Typed("#subtitle",{strings:["  ",e+"&nbsp;"],cursorChar:CONFIG.typing.cursorChar,typeSpeed:CONFIG.typing.typeSpeed,loop:CONFIG.typing.loop});a.stop();var t=document.getElementById("subtitle");if(t){t.innerText=""}jQuery(document).ready(function(){a.start()})},fancyBox:function(e){if(!CONFIG.image_zoom.enable||!("fancybox"in jQuery)){return}jQuery(e||".markdown-body :not(a) > img, .markdown-body > img").each(function(){var e=jQuery(this);var a=e.attr("data-src")||e.attr("src")||"";if(CONFIG.image_zoom.img_url_replace){var t=CONFIG.image_zoom.img_url_replace;var r=t[0]||"";var o=t[1]||"";if(r){if(/^re:/.test(r)){r=r.replace(/^re:/,"");var i=new RegExp(r,"gi");a=a.replace(i,o)}else{a=a.replace(r,o)}}}var n=e.wrap(`
        <a class="fancybox fancybox.image" href="${a}"
          itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>`).parent("a");if(n.length!==0){if(e.is(".group-image-container img")){n.attr("data-fancybox","group").attr("rel","group")}else{n.attr("data-fancybox","default").attr("rel","default")}var c=e.attr("title")||e.attr("alt");if(c){n.attr("title",c).attr("data-caption",c)}}});jQuery.fancybox.defaults.hash=false;jQuery(".fancybox").fancybox({loop:true,helpers:{overlay:{locked:false}}})},imageCaption:function(e){if(!CONFIG.image_caption.enable){return}jQuery(e||`.markdown-body > p > img, .markdown-body > figure > img,
      .markdown-body > p > a.fancybox, .markdown-body > figure > a.fancybox`).each(function(){var e=jQuery(this);var a=e.next("figcaption");if(a.length!==0){a.addClass("image-caption")}else{var t=e.attr("title")||e.attr("alt");if(t){e.after(`<figcaption aria-hidden="true" class="image-caption">${t}</figcaption>`)}}})},codeWidget(){var e=CONFIG.code_language.enable&&CONFIG.code_language.default;var a=CONFIG.copy_btn;var t=CONFIG.show_full;var r=CONFIG.show_expand;var o=CONFIG.shrink;var i=CONFIG.break;if(!e&&!a&&!t&&!o&&!i){return}function n(e){return Matery.utils.getBackgroundLightness(e)>=0?"code-widget-light":"code-widget-dark"}jQuery(".markdown-body pre").each(function(){var e=jQuery(this);if(e.find("code.mermaid").length>0){return}if(e.find("span.line").length>0){return}});var c=jQuery(".markdown-body .code-area pre");if(e){var s=$('<div class="code_lang" title="代码语言"></div>');c.before(s);c.each(function(){var e=$(this).attr("class");if(!e){return true}var a=e.replace("line-numbers","").trim().replace("language-","").trim();$(this).siblings(".code_lang").text(a)})}if(a){var l=$('<i class="fas fa-clipboard code_copy" title="复制代码" aria-hidden="true"></i>');var d=$('<div class="codecopy_notice"></div>');c.before(l).before(d);function f(e,a){if(document.queryCommandSupported&&document.queryCommandSupported("copy")){try{document.execCommand("copy");$(a).prev(".codecopy_notice").text("复制成功").animate({opacity:1,top:30},450,function(){setTimeout(function(){$(a).prev(".codecopy_notice").animate({opacity:0,top:0},650)},400)})}catch(e){$(a).prev(".codecopy_notice").text("复制失败").animate({opacity:1,top:30},650,function(){setTimeout(function(){$(a).prev(".codecopy_notice").animate({opacity:0,top:0},650)},400)});return false}}else{$(a).prev(".codecopy_notice").text("浏览器不支持复制")}}jQuery(document).on("click",".code_copy",async function(){var e=window.getSelection();var a=document.createRange();a.selectNodeContents($(this).siblings("pre").find("code")[0]);e.removeAllRanges();e.addRange(a);var t=e.toString();f(t,this);e.removeAllRanges()})}if(t){var p=$('<div class="scroll-down-bar"><i class="fas fa-angle-down" ></i></div>');c.before(p);$(".code-area pre").each(function(e,a){if($(this).height()>=405){$(this).parent().addClass("show-code-full");AOS.refresh();progressBarInit()}});$(".code-area .scroll-down-bar").on("click",function(){if($(this).parent().hasClass("code-full")){$(this).parent().removeClass("code-full")}else{$(this).parent().addClass("code-full")}AOS.refresh();progressBarInit()})}if(o){var u=$('<i class="fas fa-angle-down code-expand" aria-hidden="true"></i>');c.before(u);$(".code-area .code-expand").on("click",function(){if($(this).parent().hasClass("code-closed")){$(this).siblings("pre").find("code").show();$(this).parent().removeClass("code-closed")}else{$(this).siblings("pre").find("code").hide();$(this).parent().addClass("code-closed")}AOS.refresh();progressBarInit()})}if(r){var h=$('<i class="fas fa-expand-arrows-alt code-show-expand"  title="全屏显示" aria-hidden="true"></i>');c.before(h);$(".code-area .code-show-expand").on("click",function(e){if(e.target!==this)return;if($(this).parent().hasClass("code-closed")){$(this).siblings("pre").find("code").show();$(this).parent().removeClass("code-closed")}if($(this).parent().hasClass("code-block-fullscreen")){$(this).parent().removeClass("code-block-fullscreen");$("html").removeClass("code-block-fullscreen-html-scroll")}else{$(this).parent().addClass("code-block-fullscreen");$("html").addClass("code-block-fullscreen-html-scroll")}})}Matery.events.registerRefreshCallback(function(){Prism.highlightAll()});if(i){}}};