function querystring(){var e,t=window.location.href,r=t.slice(t.indexOf("?")+1).split("&"),a=[];for(i=0;i<r.length;i++)e=r[i].split("="),a.push(e[0]),a[e[0]]=e[1];return a}var qs=querystring();!function(e){var t,r,a,n,i="https://api.github.com/";function o(e,t){try{if(window.localStorage){if(!t){var r=localStorage[e];return r?JSON.parse(r):null}t._timestamp=(new Date).valueOf(),localStorage[e]=JSON.stringify(t)}}catch(e){}}function s(e,t){for(var r=e,a=t.split("."),n=0;n<a.length&&r;n++)r=r[a[n]];return null==r?"":r}function l(r,a){var n=e.getElementById(r+"-card").innerHTML,i=n.match(/{([^}]+)}/g);for(t=0;t<i.length;t++)n=n.replace(i[t],s(a,i[t].slice(1,-1)));return n}function c(e,t){var r=o(e);if(r&&r._timestamp&&(new Date).valueOf()-r._timestamp<1e4)return t(r);qs.client_id&&qs.client_secret&&(e+="?client_id="+qs.client_id+"&client_secret="+qs.client_secret);var a=new XMLHttpRequest;a.open("GET",e,!0),a.onload=function(){t(JSON.parse(a.response))},a.send()}function u(r,a){var n=r.getElementsByTagName("a");for(t=0;t<n.length;t++)n[t].target="_"+(qs.target||"top");if(e.body.appendChild(r),e.body.className="ready",parent!==self&&parent.postMessage){var i=Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight);parent.postMessage({height:i,sender:qs.identity||"*"},"*")}}function p(e){return e?1e3===e?"1k":e<1e3?e:(e/=1e3)>10?parseInt(e,10)+"k":e.toFixed(1)+"k":null}function g(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}qs.user&&(qs.repo?(r=qs.user,a=qs.repo,c(n=i+"repos/"+r+"/"+a,(function(t){var a=(t=t||{}).message,i="0";a?(t=o(n)||t,i="?"):o(n,t),t.login=r,t.avatar_url="",t.owner&&t.owner.avatar_url&&(t.avatar_url=t.owner.avatar_url),t.forks_count=p(t.forks_count)||i,t.watchers_count=p(t.watchers_count)||i,t.fork?t.action="Forked by ":t.action="Created by ";var s=t.description;!s&&t.source&&(s=t.source.description),!s&&a&&(s=a),t.description=g(s)||"No description";var c=t.homepage;!c&&t.source&&(c=t.source.homepage),t.homepage=c?' <a href="'+c+'">'+c.replace(/https?:\/\//,"").replace(/\/$/,"")+"</a>":"";var f=e.createElement("div");f.className="github-card repo-card",f.innerHTML=l("repo",t),u(f)}))):function(t){var r=i+"users/"+t;c(r,(function(a){var n=(a=a||{}).message,i="0";n?(a=o(r)||a,i="?"):o(r,a),a.login=t,a.name=g(a.name||t),a.public_repos=p(a.public_repos)||i,a.public_gists=p(a.public_gists)||i,a.followers=p(a.followers)||i;var s="Not available for hire.";a.hireable&&(s='<a href="'+(a.email?"mailto:"+a.email:a.blog?a.blog:a.html_url)+'">Available for hire.</a>'),n&&(s=n),a.job=s;var c=e.createElement("div");c.className="github-card user-card",c.innerHTML=l("user",a),u(c)}))}(qs.user))}(document);