<!DOCTYPE HTML><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="utf-8"><meta name="keywords" content="Linux, Debian, Laptop, ED2K, ATI, Driver, WIFI, Hotkey"><meta name="description" content="Debian Lenny Laptop安装记录，打造一个满足日常使用需求的Debain Desktop。包括常用软件，音视频，文档处理，中文环境，ed2k下载等等。"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="apple-mobile-web-app-title" content="夜法之书"><meta name="theme-color" content="#7e9fc4"><meta name="msapplication-TileImage" content="/medias/icons/android-chrome-192x192.png"><meta name="msapplication-TileColor" content="#7e9fc4"><meta http-equiv="Content-Security-Policy" content="default-src * vitals.vercel-insights.com 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; font-src * data: blob: 'unsafe-inline'; frame-src *;style-src * 'unsafe-inline';"><link rel="apple-touch-icon" href="/medias/icons/apple-touch-icon.png"><link rel="mask-icon" href="/medias/icons/android-chrome-512x512.svg" color="#000000"><meta name="referrer" content="no-referrer-when-downgrade"><title>Debian Lenny Laptop安装记录 | 夜法之书</title><link rel="manifest" href="/manifest.json"><link rel="icon" type="image/webp" href="/favicon.webp"><link href="//cimg1.17lai.fun" rel="preconnect" crossorigin><link href="https://live2dapi.17lai.site" rel="preconnect" crossorigin><link href="https://live2dapi.17lai.site" rel="dns-prefetch" crossorigin><link href="//cdn.webpushr.com" rel="preconnect" crossorigin><link href="//bot.webpushr.com" rel="preconnect" crossorigin><link href="//analytics.webpushr.com" rel="preconnect" crossorigin><link href="https://waline.17lai.site" rel="preconnect" crossorigin><link href="https://waline.17lai.site" rel="dns-prefetch" crossorigin><link rel="alternate" type="application/atom+xml" title="所有订阅ATOM--夜法之书" href="https://blog.17lai.site/atom.xml"><link rel="alternate" type="application/rss+xml" title="所有订阅RSS2--夜法之书" href="https://blog.17lai.site/rss.xml"><link rel="alternate" type="application/json" title="所有订阅JSON--夜法之书" href="https://blog.17lai.site/feed.json"><script src="/libs/jquery/jquery.min.js?v=3.7.1"></script><link rel="stylesheet preload" as="style" type="text/css" href="/libs/awesome/css/all.min.css?v=5.15.4" importance="auto"><link rel="modulepreload" href="/libs/waline/waline.min.js?v=3.4.2" as="script" importance="low"><link rel="preload" href="/js/ana.js?v=1.1.0" as="script"><link rel="stylesheet preload" as="style" type="text/css" href="/css/reward.css?v=1.0.0"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/materialize/materialize.min.css?v=1.2.2"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/aos/aos.min.css"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/animate/animate.min.css" importance="low"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css" importance="low"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/jquery/jquery-ui.min.css?v=1.14.0" importance="low"><link rel="stylesheet preload" as="style" type="text/css" href="/css/matery.css?v=1.3.4"><link rel="stylesheet preload" as="style" type="text/css" href="/css/my.css?v=1.0.4"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/share/css/share.min.css?v=1.0.16"><style>#artDetail{margin-top:-60px}@media only screen and (max-width:550px){#articleContent table{table-layout:fixed}}@media only screen and (min-width:1418px){#artDetail{margin-top:-60px;padding:0 .75rem}}#artDetail .card{box-shadow:0 15px 8px rgba(50,50,93,.1),0 5px 8px rgba(0,0,0,.07)!important}#artDetail .tag-cate{padding-bottom:15px}#artDetail a{margin-right:0!important;text-transform:none!important}#artDetail .article-info{padding:20px 30px 1px 40px;margin-bottom:-5px}#artDetail .chip{font-size:1rem;font-weight:400;height:25px;line-height:24px;border-radius:15px;margin-right:5px;margin-bottom:2px;border:1px solid}#artDetail .article-tag .chip{color:var(--navbar-text-color)}#artDetail .tag_share .article-tag .chip{color:var(--post-link-color);background:var(--toc-activ-bg-color)}#artDetail .post-cate{float:right;color:var(--post-link-color)}#artDetail .post-cate a{padding-right:5px;color:var(--post-link-color);font-weight:500}#artDetail .post-cate a:hover{text-decoration:underline}#artDetail .post-info{color:#525f7f}#artDetail .post-info .post-category{padding-right:4px;color:#525f7f}#artDetail .post-info .post-category:hover{font-weight:700;color:var(--post-link-color);text-decoration:underline}#artDetail .post-info .post-date{color:#525f7f}#artDetail .post-info .post-word-count{margin-left:15px}#artDetail .post-info .post-read{margin-left:15px;color:#525f7f}#artDetail .article-card-content{padding:0 15px 20px 18px}@media only screen and (max-width:601px){#artDetail .article-info{padding:15px 15px 1px 15px;margin-bottom:-5px}}@media only screen and (min-width:600px) and (max-width:992px){#artDetail .article-card-content{padding:0 30px 20px 32px}#artDetail .article-info{padding:15px 20px 0 28px;margin-bottom:-5px}}@media only screen and (min-width:993px){#artDetail .article-card-content{padding:0 50px 20px 50px}}#artDetail .reprint{margin:15px 0 20px 0;border:1px solid var(--post-link-color);border-radius:10px;background-color:var(--toc-activ-bg-color);padding:.5rem .8rem;line-height:2;transition:box-shadow .3s ease-in-out}#artDetail .reprint-info{word-break:break-word}#artDetail .reprint:hover{box-shadow:0 0 10px 0 rgba(232,237,250,.6),0 4px 8px 0 rgba(232,237,250,.5)}#artDetail .reprint a{font-size:1.05rem;color:var(--post-link-color);font-weight:500}#articleContent p{margin:2px 2px 10px;font-size:1.05rem;line-height:1.85rem}#articleContent blockquote p{text-indent:.2rem}#articleContent a,#comments a{padding:0 2px;color:var(--post-link-color);font-weight:500;text-decoration:underline;word-wrap:break-word;cursor:pointer;transition:color .2s ease-in-out,background-color .2s ease-in-out}#articleContent a:hover,#comments a:hover{color:var(--link-hover-color);transition:color .2s ease-in-out,background-color .2s ease-in-out}#articleContent .img-item{text-align:center}#articleContent img{max-width:100%;height:auto;cursor:pointer}#articleContent video{display:block;margin:30px auto;box-shadow:0 5px 35px 0 rgba(0,0,0,.2),0 10px 35px -11px rgba(0,0,0,.6);cursor:pointer}#articleContent ol,#articleContent ul{display:block;padding-left:2em;word-spacing:.05rem}#articleContent ol li,#articleContent ul li{display:list-item;line-height:1.8rem;font-size:1rem}#articleContent ul li{list-style-type:disc}#articleContent ul ul li{list-style-type:circle}#articleContent table{width:100%;display:block;border-collapse:collapse;border-spacing:0;overflow:auto}table tr:nth-child(2n),thead{background-color:var(--table-tr-bg-color)}#articleContent table th{background-color:var(--table-th-bg-color);min-width:80px;border:1px solid var(--text-color);padding:6px 6px}#articleContent table td{min-width:80px;border:1px solid var(--text-color);padding:6px 6px}tbody tr:nth-child(even){background-color:var(--table-tr-bg-color)}td:nth-child(1){background-color:var(--table-td-bg-color)}#articleContent table th{background-color:var(--table-th-bg-color);border:1px solid var(--text-color);color:var(--text-color)}#articleContent [type=checkbox]:not(:checked),[type=checkbox]:checked{position:inherit;margin-left:-1.3rem;margin-right:.4rem;margin-top:-1px;vertical-align:middle;left:unset;visibility:visible;opacity:1}.task-list label{color:var(--text-color);font-size:var(--text-font-size)}.task-list li::marker{content:""}@media only screen and (min-width:600px){#article-share .social-share a{margin-left:15px!important}}</style><link rel="stylesheet preload" as="style" href="/libs/tocbot/tocbot.min.css?v=4.28.2"><link rel="stylesheet preload" as="style" href="/css/post.css?v=1.0.3"><link rel="stylesheet preload" as="style" href="/libs/tocbot/tocbot.min.css?v=4.28.2"><link rel="stylesheet preload" as="style" href="/css/post.css?v=1.0.3"><link rel="stylesheet" type="text/css" href="/css/reward.css?v=1.0.0"><style>body.DarkMode .theme-btn{background:#222;border:2px solid #555;border-radius:2px;color:#ccc!important;display:inline-block;font-size:.875em;line-height:2;padding:0 5px!important;text-decoration:unset!important;transition:background-color .2s ease-in-out}body.DarkMode .theme-btn:hover{background:#666;border-color:#666;color:#ccc}.theme-btn{background:#fff;border:2px solid #222;border-radius:2px;color:#555!important;display:inline-block;font-size:.875em;line-height:2;padding:0 5px!important;text-decoration:unset!important;transition:background-color .2s ease-in-out}.theme-btn:hover{background:#222;border-color:#222;color:#fff!important}.theme-btn+.theme-btn{margin:0 0 8px 8px}.theme-btn .fa-fw{text-align:left;width:1.285714285714286em}</style><style>.post-container .note{border-radius:0;margin-bottom:20px;padding:1em;position:relative;border:1px solid #eee;border-left-width:5px}.post-container .note summary{cursor:pointer;outline:0}.post-container .note summary p{display:inline}.post-container .note h2,.post-container .note h3,.post-container .note h4,.post-container .note h5,.post-container .note h6{border-bottom:initial;margin:0;padding-top:0}.post-container .note blockquote:first-child,.post-container .note img:first-child,.post-container .note ol:first-child,.post-container .note p:first-child,.post-container .note pre:first-child,.post-container .note table:first-child,.post-container .note ul:first-child{margin-top:0}.post-container .note blockquote:last-child,.post-container .note img:last-child,.post-container .note ol:last-child,.post-container .note p:last-child,.post-container .note pre:last-child,.post-container .note table:last-child,.post-container .note ul:last-child{margin-bottom:0}.post-container .note:not(.no-icon){padding-left:2.5em}.post-container .note:not(.no-icon)::before{font-size:1.5em;left:.3em;position:absolute;top:calc(50% - 1em)}.post-container .note.default{border-left-color:#777}.post-container .note.default h2,.post-container .note.default h3,.post-container .note.default h4,.post-container .note.default h5,.post-container .note.default h6{color:#777}.post-container .note.default:not(.no-icon)::before{content:'\f0a9';font-family:'Font Awesome 5 Free';font-weight:900;color:#777}.post-container .note.primary{border-left-color:#6f42c1}.post-container .note.primary h2,.post-container .note.primary h3,.post-container .note.primary h4,.post-container .note.primary h5,.post-container .note.primary h6{color:#6f42c1}.post-container .note.primary:not(.no-icon)::before{content:'\f055';font-family:'Font Awesome 5 Free';font-weight:900;color:#6f42c1}.post-container .note.info{border-left-color:#428bca}.post-container .note.info h2,.post-container .note.info h3,.post-container .note.info h4,.post-container .note.info h5,.post-container .note.info h6{color:#428bca}.post-container .note.info:not(.no-icon)::before{content:'\f05a';font-family:'Font Awesome 5 Free';font-weight:900;color:#428bca}.post-container .note.success{border-left-color:#5cb85c}.post-container .note.success h2,.post-container .note.success h3,.post-container .note.success h4,.post-container .note.success h5,.post-container .note.success h6{color:#5cb85c}.post-container .note.success:not(.no-icon)::before{content:'\f058';font-family:'Font Awesome 5 Free';font-weight:900;color:#5cb85c}.post-container .note.warning{border-left-color:#f0ad4e}.post-container .note.warning h2,.post-container .note.warning h3,.post-container .note.warning h4,.post-container .note.warning h5,.post-container .note.warning h6{color:#f0ad4e}.post-container .note.warning:not(.no-icon)::before{content:'\f06a';font-family:'Font Awesome 5 Free';font-weight:900;color:#f0ad4e}.post-container .note.danger{border-left-color:#d9534f}.post-container .note.danger h2,.post-container .note.danger h3,.post-container .note.danger h4,.post-container .note.danger h5,.post-container .note.danger h6{color:#d9534f}.post-container .note.danger:not(.no-icon)::before{content:'\f056';font-family:'Font Awesome 5 Free';font-weight:900;color:#d9534f}</style><style>.post-container .tabs{margin-bottom:20px;height:auto}.post-container .tabs,.tabs-comment{padding-top:10px}.post-container .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{background:var(--card-bg-color);display:flex!important;flex-wrap:wrap;justify-content:center;margin:0;padding:0!important;position:-webkit-sticky;position:sticky;top:0}@media (max-width:413px){.post-container .tabs ul.nav-tabs,.tabs-comment ul.nav-tabs{display:block;margin-bottom:5px}}.post-container .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-bottom:1px solid var(--text-color);border-left:1px solid transparent;border-right:1px solid transparent;border-radius:0;border-top:3px solid transparent;flex-grow:1;list-style-type:none!important;transition:all .2s ease-out}@media (max-width:413px){.post-container .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-bottom:1px solid transparent;border-left:3px solid transparent;border-right:1px solid transparent;border-top:1px solid transparent}}@media (max-width:413px){.post-container .tabs ul.nav-tabs li.tab,.tabs-comment ul.nav-tabs li.tab{border-radius:0}}.post-container .tabs ul.nav-tabs li.tab a,.tabs-comment ul.nav-tabs li.tab a{border-bottom:initial;display:block;line-height:1.8;padding:.25em .75em;text-align:center;text-decoration:unset!important;transition:all .2s ease-out}.post-container .tabs{background-color:var(--card-bg-color)}.post-container .tabs ul.nav-tabs li.tab a i,.tabs-comment ul.nav-tabs li.tab a i{width:1.285714285714286em}.post-container .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-bottom-color:transparent;border-left-color:var(--text-color);border-right-color:var(--text-color);border-top-color:var(--tab-border-top-color)}@media (max-width:413px){.post-container .tabs ul.nav-tabs li.tab.active,.tabs-comment ul.nav-tabs li.tab.active{border-bottom-color:var(--text-color);border-left-color:var(--tab-border-top-color);border-right-color:var(--text-color);border-top-color:var(--text-color)}}.post-container .tabs ul.nav-tabs li.tab.active a,.tabs-comment ul.nav-tabs li.tab.active a{cursor:default;text-decoration:unset}.post-container .tabs .tab-content,.tabs-comment .tab-content{border:1px solid var(--text-color);border-radius:0;border-top-color:transparent;white-space:break-spaces}@media (max-width:413px){.post-container .tabs .tab-content,.tabs-comment .tab-content{border-radius:0;border-top-color:var(--text-color)}}.post-container .tabs .tab-content .tab-pane,.tabs-comment .tab-content .tab-pane{padding:20px 20px 0}.post-container .tabs .tab-content .tab-pane:not(.active),.tabs-comment .tab-content .tab-pane:not(.active){display:none}.tabs-comment{margin-top:4em;padding-top:0}.tabs-comment .comments{margin-top:0;padding-top:0}</style><style>.label{display:inline;border-radius:3px;font-size:85%;margin:0;padding:.2em .4em;color:var(--text-color);transition:color .2s ease-in-out}.label-default{background:rgba(187,187,187,.25)}.label-primary{background:rgba(183,160,224,.25)}.label-info{background:rgba(160,197,228,.25)}.label-success{background:rgba(174,220,174,.25)}.label-warning{background:rgba(248,214,166,.25)}.label-danger{background:rgba(236,169,167,.25)}</style><style>.chat-container{display:flex;flex-direction:column;width:100%;border:1px solid #ccc;border-radius:5px;box-shadow:0 2px 4px rgba(0,0,0,.1);padding:1rem}.chat-message{display:flex;align-items:flex-start;margin-bottom:1rem}.chat-message.user{flex-direction:row-reverse}.chat-message.assistant{flex-direction:row}.chat-message .avatar{width:40px;height:40px;border-radius:50%;margin:0 1rem}.chat-message .chat-content{background-color:var(--wechat-user-assistant-color);border-radius:5px;padding:.5rem 1rem;max-width:70%;word-wrap:break-word}.chat-message.user .chat-content{background-color:var(--wechat-user-bg-color);color:var(--wechat-text-color)}</style><style>.group-image-container{margin:1.5rem auto}.group-image-container img{margin:0 auto;border-radius:3px;background-color:transparent;box-shadow:0 3px 9px 0 rgba(0,0,0,.15),0 3px 9px 0 rgba(0,0,0,.15)}.group-image-row{margin-bottom:.5rem;display:flex;justify-content:center}.group-image-wrap{flex:1;display:flex;justify-content:center}.group-image-wrap:not(:last-child){margin-right:.25rem}</style><link rel="stylesheet preload" as="style" type="text/css" href="/css/highlight.css?v=1.0.0" id="highlight-css"><link rel="stylesheet preload" as="style" type="text/css" href="/css/highlight-dark.css?v=1.0.0" id="highlight-css-dark"><link rel="stylesheet" href="/libs/waline/waline.min.css?v=3.4.2" importance="low"><link rel="modulepreload" href="/libs/waline/waline.min.js?v=3.4.2" as="script" importance="low"><link rel="stylesheet" type="text/css" href="/css/waline.css?v=1.0.2" media="none" onload='"all"!=media&&(media="all")'><style>.admonition,.admonition.attention,.admonition.error,.admonition.info,.admonition.note{margin:1.5625em 0;padding:.6rem!important;overflow:hidden;font-size:.64rem;page-break-inside:avoid;border-left:.3rem solid #42b983;border-radius:.3rem;box-shadow:0 .1rem .4rem rgba(0,0,0,.05),0 0 .05rem rgba(0,0,0,.1);background-color:var(--toc-activ-bg-color)}p.admonition-title{position:relative;margin:-.6rem -.6rem .8em -.6rem!important;padding:.4rem .6rem .4rem 2.5rem;font-weight:700;background-color:rgba(66,185,131,.1)}.admonition-title::before{position:absolute;top:.9rem;left:1rem;width:12px;height:12px;background-color:#42b983;border-radius:50%;content:' '}.info>.admonition-title,.todo>.admonition-title{background-color:rgba(0,184,212,.1)}.attention>.admonition-title,.caution>.admonition-title,.warning>.admonition-title{background-color:rgba(255,145,0,.1)}.error>.admonition-title,.fail>.admonition-title,.failure>.admonition-title,.missing>.admonition-title{background-color:rgba(255,82,82,.1)}.admonition.info,.admonition.todo{border-color:#00b8d4}.admonition.attention,.admonition.caution,.admonition.warning{border-color:#ff9100}.admonition.error,.admonition.fail,.admonition.failure,.admonition.missing{border-color:#ff5252}.info>.admonition-title::before,.todo>.admonition-title::before{background-color:#00b8d4;border-radius:50%}.attention>.admonition-title::before,.caution>.admonition-title::before,.warning>.admonition-title::before{background-color:#ff9100;border-radius:50%}.error>.admonition-title::before,.fail>.admonition-title::before,.failure>.admonition-title::before,.missing>.admonition-title::before{background-color:#ff5252;border-radius:50%}.admonition>:last-child{margin-bottom:0!important}.admonition code[class*=language-],.admonition pre[class*=language-]{background:var(--toc-activ-bg-color)!important}</style><style>.bvideo a:link{text-decoration:none!important}.bvideo-box{width:80%;height:96px;margin:0 auto;font-weight:400;box-sizing:border-box;background:#f4f4f5;border:.0625rem solid #d1d1d1;border-radius:6px;background-color:#fcfcfc;display:flex;user-select:none;cursor:pointer;overflow:hidden}.bvideo-cover{display:inline-block;width:150px;height:94px;min-width:150px;min-height:94px;border-bottom-left-radius:6px;border-top-left-radius:6px;overflow:hidden;position:relative}.bvideo-cover .video-cover-img{height:100%;width:100%;top:0;left:0;position:absolute;display:inline-block;background-size:cover;background-position:50%}.bvideo-cover .duration{position:absolute;right:3px;bottom:0;padding:0;color:#fff;font-size:12px;border-radius:2px}.bvideo-cover .bvideo-cover-layer{position:absolute;left:0;top:0;width:100%;height:100%;background-position:50%;background-size:cover;background-repeat:no-repeat}.bvideo-info{margin-left:1rem;padding-top:10px;min-height:84px;position:relative;text-align:left}.bvideo-info .title{max-height:40px;min-height:19px;color:#222;line-height:1.4;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:25rem;margin:0}.bvideo-info .up-name{height:19px;margin-top:1px;margin-left:2px;display:inline-block;vertical-align:middle;font-size:12px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:150px}.bvideo-info .card-status{line-height:13px;font-size:12px;color:#999;margin:0;bottom:30px}.bvideo-info .play-num{margin-right:13px}.bvideo-info .partition{font-size:12px;line-height:13px;color:#999;position:absolute;bottom:-1px;padding-left:35px;top:78px}.icon-video{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA2CAMAAACsuQomAAAAclBMVEX///8AAAD///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////+As+VLAAAAJnRSTlOzAK8+F4OppBAmnTKsllOOb2dhOS0JBJqAWk0aB19FHgJ8dUAgC8ZU4VsAAAGPSURBVEjHpdbrcqowGIXhtbIxnEGOCmKt2n3/t1hSO6Y2qYwf779M5plkCJkJ+Fih85i+4lwX/NUvHAHQLd3SDED0HHcagGoc2ygA4eRidwV15WNvytmRDzPWmBv5sxFzYcxFzI8QcwVtw5c9kcuYhwRz9X1cYS4J+Cfu4+bfvUJhbvs9umBOFXY6PT3gqNJ4pWSY7rhx6DL/+MZXhdfTRoOnDJJ2ncEbyBpIxBCmJ+IIaSlRivGRCOGpbMdkEV8IBU8t2R3VAt4T3gLOBefnePMMk2m+ArMvtByT0VaAbXEpwLa3cAXm/0rJMXnaCLCtSVZgRvkKzOOalXcCbM9LiuMSEGLzjwqxuR1SnO4AIT7sASHuagUpNscjw+7xuDiDp9Q9HrczkcBTfq01ltoSe0gbiVGMD0SUCe2GBGshbg2ecpGtaDCDncBe+htmdH6VquHdPuLabZ4pdZ/yZSfDcgjc52MDk36nrz6DKeVXLu6S25fwV90eUA62l1eFdU9/Ux2q/YEOtjlbfjoLrugTV6YSSQ5kbxYAAAAASUVORK5CYII=);position:absolute;background-size:100% 100%;display:inline-block;top:50%;left:50%;margin-left:-15px;margin-top:-13px;height:26px}.card-label{display:inline-block;font-weight:550;width:25px;height:13px;border:1.5px solid #ffc3d4;color:#ffc3d4;background-size:100% 100%;position:absolute;top:-1px;left:0;padding-left:1px}.bvideo-cover .cover-default{position:absolute;left:0;top:0;width:100%;height:100%;background-size:44px;background-color:#f0f1f4;background-position:50%;background-repeat:no-repeat}@media (max-width:768px){.bvideo-cover{display:none}.partition{display:none}.bvideo-info .title{max-height:40px;min-height:19px;color:#222;line-height:1.4;font-size:14px;text-overflow:clip;overflow:hidden;white-space:normal;margin:0}}</style><style>.douban-card-block{display:flex;justify-content:center;align-items:center;width:100%;max-height:400px}.douban-card{display:flex;margin:30px 10px;padding:15px;border-radius:15px;position:relative;justify-content:center;align-items:center;overflow:hidden;color:#faebd7;text-decoration:none}.douban-card:hover{text-decoration:none}.douban-card-bgimg{position:absolute;width:115%;height:115%;filter:blur(15px) brightness(.6);background-size:100%;background-position:center;background-repeat:no-repeat}.douban-card-img{position:relative;height:130px;width:80px;background-size:100%;background-position:center;background-repeat:no-repeat}.douban-card-left:hover .douban-card-img{filter:blur(5px) brightness(.6);transform:perspective(800px) rotateX(180deg)}.douban-card-left .douban-card-img{transition:all .5s ease}.douban-card-left{position:relative;display:flex;flex-direction:column;align-items:center}.douban-card-left .douban-card-status{height:130px;width:80px;text-align:center;font-weight:700;position:absolute;left:0;top:30%;transform:rotateX(180deg);backface-visibility:hidden;transition:all .5s ease}.douban-card-left:hover .douban-card-status{transform:perspective(800px) rotateX(0)}.douban-card-right{position:relative;display:flex;flex-direction:column;margin-left:12px;font-size:16px;font-family:"Courier New",Courier,monospace;line-height:1.3;color:#faebd7}.douban-card-item{margin-top:4px}</style><style>.github-emoji{height:2em;width:2em;display:inline-block!important;position:relative;margin:0 3px!important;padding:0}.github-emoji:hover{animation:emoji-face 5s infinite ease-in-out}@keyframes emoji-face{2%{transform:translate(0,1.5px) rotate(1.5deg)}4%{transform:translate(0,-1.5px) rotate(-.5deg)}6%{transform:translate(0,1.5px) rotate(-1.5deg)}8%{transform:translate(0,-1.5px) rotate(-1.5deg)}10%{transform:translate(0,2.5px) rotate(1.5deg)}12%{transform:translate(0,-.5px) rotate(1.5deg)}14%{transform:translate(0,-1.5px) rotate(1.5deg)}16%{transform:translate(0,-.5px) rotate(-1.5deg)}18%{transform:translate(0,.5px) rotate(-1.5deg)}20%{transform:translate(0,-1.5px) rotate(2.5deg)}22%{transform:translate(0,.5px) rotate(-1.5deg)}24%{transform:translate(0,1.5px) rotate(1.5deg)}26%{transform:translate(0,.5px) rotate(.5deg)}28%{transform:translate(0,.5px) rotate(1.5deg)}}</style><style>.vkr-url-wrapper{padding:10px;border-radius:5px;border:1px solid;border-color:var(--text-color) var(--text-color) var(--text-color);box-shadow:rgba(0,0,0,.14) 0 1px 3px;margin-bottom:10px;display:flex}.vkr-url-wrapper .desc-wrapper>hr{margin:10px 0;height:1px}.vkr-url-wrapper .avatar{width:150px!important;height:150px!important;border:solid 1px var(--text-color);box-shadow:none!important;margin:0;margin-right:10px}.vkr-url-wrapper h2{border:none;margin:0;padding:0}.vkr-url-wrapper .desc-wrapper{flex:1}.vkr-url-wrapper .desc-wrapper a{font-size:22px;font-weight:700}</style><style>.deng-box{position:fixed;top:80px;z-index:980}.deng-box1{position:fixed;top:80px;right:10px;z-index:980}.deng-box1 .deng{position:relative;width:120px;height:90px;margin:50px;background:#d8000f;background:rgba(216,0,15,.8);border-radius:50% 50%;-webkit-transform-origin:50% -100px;-webkit-animation:swing 5s infinite ease-in-out;box-shadow:-5px 5px 30px 4px #fc903d}.deng{position:relative;width:120px;height:90px;margin:50px;background:#d8000f;background:rgba(216,0,15,.8);border-radius:50% 50%;-webkit-transform-origin:50% -100px;-webkit-animation:swing 3s infinite ease-in-out;box-shadow:-5px 5px 50px 4px #fa6c00}.deng-a{width:100px;height:90px;background:#d8000f;background:rgba(216,0,15,.1);margin:12px 8px 8px 8px;border-radius:50% 50%;border:2px solid #dc8f03}.deng-b{width:45px;height:90px;background:#d8000f;background:rgba(216,0,15,.1);margin:-4px 8px 8px 26px;border-radius:50% 50%;border:2px solid #dc8f03}.xian{position:absolute;top:-65px;left:60px;width:2px;height:65px;background:#dc8f03}.shui-a{position:relative;width:5px;height:20px;margin:-5px 0 0 59px;-webkit-animation:swing 4s infinite ease-in-out;-webkit-transform-origin:50% -45px;background:orange;border-radius:0 0 5px 5px}.shui-b{position:absolute;top:14px;left:-2px;width:10px;height:10px;background:#dc8f03;border-radius:50%}.shui-c{position:absolute;top:18px;left:-2px;width:10px;height:35px;background:orange;border-radius:0 0 0 5px}.deng:before{position:absolute;top:-7px;left:29px;height:12px;width:60px;content:" ";display:block;z-index:999;border-radius:5px 5px 0 0;border:solid 1px #dc8f03;background:orange;background:linear-gradient(to right,#dc8f03,orange,#dc8f03,orange,#dc8f03)}.deng:after{position:absolute;bottom:-7px;left:10px;height:12px;width:60px;content:" ";display:block;margin-left:20px;border-radius:0 0 5px 5px;border:solid 1px #dc8f03;background:orange;background:linear-gradient(to right,#dc8f03,orange,#dc8f03,orange,#dc8f03)}.deng-t{font-family:华文行楷,Arial,Lucida Grande,Tahoma,sans-serif;font-size:2rem;color:#dc8f03;font-weight:700;text-align:center}.night .deng-box,.night .deng-box1,.night .deng-t{background:0 0!important}@-moz-keyframes swing{0%{-moz-transform:rotate(-10deg)}50%{-moz-transform:rotate(10deg)}100%{-moz-transform:rotate(-10deg)}}@-webkit-keyframes swing{0%{-webkit-transform:rotate(-10deg)}50%{-webkit-transform:rotate(10deg)}100%{-webkit-transform:rotate(-10deg)}}@media only screen and (max-width:1024px){.deng-box,.deng-box1{display:none}}</style><style>.typed-cursor.typed-cursor--blink{-webkit-animation:1s van-cursor-flicker infinite;animation:1s van-cursor-flicker infinite}#articles .article .card-image i,#next-cover i,#prev-cover i,#recommend-sections .post-card .post-body i,.index-cover .container .cover-btns i,.paging i{-webkit-animation:1.5s breathe-flicker infinite;animation:1.5s breathe-flicker infinite}@keyframes van-cursor-flicker{from{opacity:0}50%{opacity:1}100%{opacity:0}}@keyframes breathe-flicker{from{opacity:.3}50%{opacity:1}100%{opacity:.3}}@media only screen and (max-width:1024px){.typed-cursor.typed-cursor--blink{-webkit-animation:none;animation:none}#articles .article .card-image i,#next-cover i,#prev-cover i,#recommend-sections .post-card .post-body i,.index-cover .container .cover-btns i,.paging i{-webkit-animation:none;animation:none}}</style><style>::-webkit-scrollbar-thumb{background-color:var(--scrollbar-color);background-image:-webkit-linear-gradient(45deg,rgba(255,255,255,.4) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.4) 50%,rgba(255,255,255,.4) 75%,transparent 75%,transparent);border-radius:6px}::-webkit-scrollbar-corner,::-webkit-scrollbar-track{background-color:var(--card-bg-color);border-radius:3em}::-webkit-scrollbar-thumb:hover{background-color:var(--scrollbar-hover-color)}::-webkit-scrollbar{width:8px;height:8px}</style><link rel="preload" href="/libs/jquery/jquery.min.js?v=3.7.1" as="script" importance="high"><link rel="preload" href="/js/utils.js?v=1.0.11" as="script" importance="high"><link rel="preload" href="/js/color-schema.js?v=1.0.0" as="script" importance="high"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/live2d/waifu.css" importance="low"><link rel="preload" href="/libs/materialize/materialize.min.js?v=1.2.2" as="script" importance="auto"><link rel="preload" href="/libs/masonry/masonry.pkgd.min.js?v=4.2.2" as="script"><link rel="preload" href="/libs/aos/aos.min.js" as="script"><link rel="preload" href="/libs/lightGallery/js/lightgallery-all.min.js" as="script" importance="low"><link rel="preload" href="/js/events.js?v=1.0.0" as="script"><link rel="preload" href="/js/plugins.js?v=1.0.0" as="script"><link rel="preload" href="/libs/scrollprogress/scrollProgress.min.js" as="script"><link rel="preload" href="/js/tw_cn.js?v=1.0.1" as="script" importance="low"><link rel="preload" href="/js/boot.js?v=1.0.0" as="script" importance="low"><link rel="preload" href="/libs/tocbot/tocbot.min.js?v=4.28.2" as="script"><link rel="preload" href="/libs/tag-common/index.js" as="script"><link rel="prefetch" as="script" href="/libs/share/js/social-share.min.js?v=1.0.16" importance="low"><link rel="preload" href="/libs/prism/components/prism-core.min.js?v=1.29.0" as="script"><link rel="preload" href="/libs/prism/plugins/autoloader/prism-autoloader.min.js" as="script"><link rel="stylesheet preload" as="style" type="text/css" href="/libs/prism/plugins/line-numbers/prism-line-numbers.min.css"><link rel="preload" href="/libs/prism/plugins/line-numbers/prism-line-numbers.min.js" as="script"><script id="matery-configs">var Matery=window.Matery||{};Matery.ctx=Object.assign({},Matery.ctx);var CONFIG={hostname:"blog.17lai.site",root:"/",version:"2.0.0",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!1,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,show_full:!0,show_expand:!0,shrink:!0,break:!1,image_caption:{enable:!0},fun_features:{typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"right",visible:"hover",icon:""},progressbar:{enable:!1,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},monitortext:{enable:!1,text:"你看不到我！"},videobg:{enable:!1,url:"/video_url.json?v=1.0.0"}},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0,showToggleBtn:!0},outdate:{enable:!1,warning_day:365,error_day:3650},lazyload:{enable:!0,loading_img:"/medias_webp/loading2.svg",loading_img_dark:"/medias_webp/loading2-dark.svg",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!1,baidu:{enable:!1,id:"22cc5bdea6e529c1349d44b7306b3b8c"},google:{enable:!1,id:"G-JNYZP4ZLDJ"},gtag:{enable:!1,id:"G-JNYZP4ZLDJ"},umami:{enable:!0,url:"https://ana.17lai.site",id:"e532f69d-5606-40c9-9dbb-bfa04258384f"},tencent:{enable:!1,sid:null,cid:null},woyaola:{enable:!1,id:"JynRUZuReKUzZQSo",ck:"JynRUZuReKUzZQSo"},cnzz:{enable:!1,id:null},leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},statistics:{busuanziStatistics:{enable:!1,totalTraffic:!0,totalNumberOfvisitors:!0},umami:{enable:!0,totalTraffic:!0,totalNumberOfvisitors:!0,pageStats:!0,start_time:"2023-01-01T00:00:00.000Z",token:"OgIvVJnSmkB37SNyb9UYE33p9hKuI/6jodFSsENOJbyjfg+AG+lYaU499pgVo8gZ1uPIUu9mYMFOk0E9U5cFMbUvI2guPKZZHMxp/xs+1vWtaoV7055ou/e8Ig8Rpm23VRreWzvLZiu+TpbreotPGLXUCYLxUqeedDjKvFPb+Rx6D34/l+gEetxG/vbJJvfTgITk+snFv0zwxx9i2Ig8jhycilhDEhKKva/8L/0+uAewZ2i+6mq4Mn+s0UKfzXVCsDCJ08lJS9UcyjL5d8t5eZ8A2u1b3IV0ElqiaCepF7+HgmsTPR8c2h76Sf1yaUJa+0tPvMcRGLjClA5tFB3+N5hOF8anC072cw==",api_server:"https://ana.17lai.site",data_website_id:"e532f69d-5606-40c9-9dbb-bfa04258384f"}},search_path:"/local-search.xml"};if(CONFIG.web_analytics.follow_dnt){var dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack;Matery.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on"))}</script><script src="/js/utils.js?v=1.0.11"></script><script src="/js/color-schema.js?v=1.0.0"></script><link rel="stylesheet" href="/libs/prism/plugins/line-numbers/prism-line-numbers.min.css"><script async>var windowWidth=window.innerWidth,minFunWidth=1024;window.addEventListener("resize",(function(){windowWidth=window.innerWidth}));var supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testpassive",null,opts),window.removeEventListener("testpassive",null,opts)}catch(n){}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo|Google (Page Speed|Web Preview)/i.test(navigator.userAgent)</script><script async>const swUrl="/sw.js",swScope="/";(async()=>{if("serviceWorker"in navigator)try{const r=await navigator.serviceWorker.register(swUrl,{scope:"/"});console.log("[PWA]Service Worker registered:",r)}catch(r){console.error("[PWA]Service Worker registration failed:",r)}})()</script><script async>Matery.ctx.dnt||isBot||function(){var e=document.createElement("script");e.async=!0,e.defer=!0,e.dataset.cache=!0,e.dataset.websiteId="e532f69d-5606-40c9-9dbb-bfa04258384f",e.src="https://ana.17lai.site/script.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>let HEXO_MMEDIA_DATA={js:[],css:[],aplayerData:[],metingData:[],artPlayerData:[],dplayerData:[]}</script><meta name="generator" content="Hexo 7.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img no-lazy src="/favicon.webp" width="108" height="108" style="width:40px;height:45px" class="logo-img" alt="LOGO"> <span class="logo-span">夜法之书</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse" aria-label="侧边菜单"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item menu-2d-home"><a href="/" class="nav-link"><i class="fas fa-home"></i> 首页</a></li><li class="hide-on-med-and-down nav-item menu-2d-nav"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://nav.17lai.site/" class="nav-link"><i class="fas fa-suitcase"></i> 导航</a></li><li class="hide-on-med-and-down nav-item menu-2d-sosuo"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://so.17lai.site/" class="nav-link"><i class="fas fa-mask"></i> SO</a></li><li class="hide-on-med-and-down nav-item menu-2d-media"><a href="#" class="nav-link"><i class="fas fa-music"></i> 多媒体 <i class="fas fa-chevron-down" aria-hidden="true"></i></a><ul class="sub-nav menus_item_child"><li class="menu-2d-musics"><a class="nav-link" href="/musics/"><i class="fas fa-music fa-fw" style="margin-top:-20px"></i> 音乐</a></li><li class="menu-2d-galleries"><a class="nav-link" href="/galleries/"><i class="fas fa-image fa-fw" style="margin-top:-20px"></i> 相册</a></li><li class="menu-2d-movies"><a class="nav-link" href="/movies/"><i class="fas fa-film fa-fw" style="margin-top:-20px"></i> 视频</a></li><li class="menu-2d-musicplayer"><a class="nav-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://musicplayer.17lai.site/"><i class="fas fa-music fa-fw" style="margin-top:-20px"></i> 在线云音乐</a></li><li class="menu-2d-music"><a class="nav-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://music.17lai.site/"><i class="fas fa-music fa-fw" style="margin-top:-20px"></i> 音乐播放器</a></li></ul></li><li class="hide-on-med-and-down nav-item menu-2d-posts"><a href="#" class="nav-link"><i class="fas fa-folder-plus"></i> 文章 <i class="fas fa-chevron-down" aria-hidden="true"></i></a><ul class="sub-nav menus_item_child"><li class="menu-2d-tags"><a class="nav-link" href="/tags/"><i class="fas fa-tags fa-fw" style="margin-top:-20px"></i> 标签</a></li><li class="menu-2d-categories"><a class="nav-link" href="/categories/"><i class="fas fa-bookmark fa-fw" style="margin-top:-20px"></i> 分类</a></li><li class="menu-2d-archives"><a class="nav-link" href="/archives/"><i class="fas fa-archive fa-fw" style="margin-top:-20px"></i> 归档</a></li></ul></li><li class="hide-on-med-and-down nav-item menu-2d-toolbox"><a href="#" class="nav-link"><i class="fas fa-toolbox"></i> 工具 <i class="fas fa-chevron-down" aria-hidden="true"></i></a><ul class="sub-nav menus_item_child"><li class="menu-2d-tg"><a class="nav-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://t.me/chat_17laisite"><i class="fab fa-telegram-plane fa-fw" style="margin-top:-20px"></i> TG交流群</a></li><li class="menu-2d-linuxtool"><a class="nav-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://linux-command.17lai.site/"><i class="fas fa-terminal fa-fw" style="margin-top:-20px"></i> Linux命令</a></li><li class="menu-2d-cheatsheets"><a class="nav-link" href="/dash/"><i class="fas fa-laptop-code fa-fw" style="margin-top:-20px"></i> 各种快查表</a></li><li class="menu-2d-onebox"><a class="nav-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://alist.17lai.site/"><i class="fas fa-cloud fa-fw" style="margin-top:-20px"></i> 私人网盘</a></li><li class="menu-2d-staticnav"><a class="nav-link" href="/nav/"><i class="fas fa-tools fa-fw" style="margin-top:-20px"></i> 网址导航</a></li></ul></li><li class="hide-on-med-and-down nav-item menu-2d-mirror"><a href="#" class="nav-link"><i class="fas fa-link"></i> 镜像 <i class="fas fa-chevron-down" aria-hidden="true"></i></a><ul class="sub-nav menus_item_child"><li class="menu-2d-mirror-cf"><a class="nav-link" target="_blank" rel="noopener external nofollow noreferrer" href="https://cfblog.17lai.site/"><i class="fas fa-link fa-fw" style="margin-top:-20px"></i> CF镜像</a></li><li class="menu-2d-mirror-vps20"><a class="nav-link" target="_blank" rel="noopener" href="https://v20blog.17lai.site/"><i class="fas fa-link fa-fw" style="margin-top:-20px"></i> VPS镜像</a></li><li class="menu-2d-mirror-main"><a class="nav-link" href="https://blog.17lai.site/"><i class="fas fa-link fa-fw" style="margin-top:-20px"></i> 主站</a></li></ul></li><li class="hide-on-med-and-down nav-item menu-2d-friends"><a href="/friends/" class="nav-link"><i class="fas fa-link"></i> 友链</a></li><li class="hide-on-med-and-down nav-item menu-2d-msg"><a href="/msg/" class="nav-link"><i class="fas fa-comment-alt"></i> 留言</a></li><li class="hide-on-med-and-down nav-item menu-2d-about"><a href="/about/" class="nav-link"><i class="fas fa-user-circle"></i> 关于</a></li><li class="nav-item menu-2d-search"><a href="#searchModal" class="nav-link modal-trigger" data-umami-event-search="search modal click" onclick="handleSearchClick()"><i id="searchIcon" class="fas fa-search" title="搜索"></i></a></li><li class="nav-item menu-2d-dark" data-umami-event-color="color toggle" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" rel="external nofollow noreferrer" aria-label="Color Toggle">&nbsp; <i class="fas fa-sun" id="color-toggle-icon"></i>&nbsp;</a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><div><img src="/favicon.webp" width="108" height="108" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload style="width:45px;height:45px" class="logo-img circle responsive-img" alt="LOGO"><div class="logo-name">夜法之书</div><div class="logo-desc">~软件驱动世界~个人独立技术博客，关于Linux,开源，Nas，Docker，嵌入式，理财，健身等主题！</div></div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://nav.17lai.site/" class="waves-effect waves-light"><i class="fa-fw fas fa-suitcase"></i> 导航</a></li><li class="m-nav-item"><a target="_blank" rel="noopener external nofollow noreferrer" href="https://so.17lai.site/" class="waves-effect waves-light"><i class="fa-fw fas fa-mask"></i> SO</a></li><li class="m-nav-item"><a href="javascript:;" rel="external nofollow noreferrer"><i class="fa-fw fas fa-music"></i> 多媒体 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/musics/" style="margin-left:75px"><i class="fas fa-music fa-fw" style="position:absolute;left:50px"></i> <span>音乐</span></a></li><li><a href="/galleries/" style="margin-left:75px"><i class="fas fa-image fa-fw" style="position:absolute;left:50px"></i> <span>相册</span></a></li><li><a href="/movies/" style="margin-left:75px"><i class="fas fa-film fa-fw" style="position:absolute;left:50px"></i> <span>视频</span></a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://musicplayer.17lai.site/" style="margin-left:75px"><i class="fas fa-music fa-fw" style="position:absolute;left:50px"></i> <span>在线云音乐</span></a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://music.17lai.site/" style="margin-left:75px"><i class="fas fa-music fa-fw" style="position:absolute;left:50px"></i> <span>音乐播放器</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;" rel="external nofollow noreferrer"><i class="fa-fw fas fa-folder-plus"></i> 文章 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/tags/" style="margin-left:75px"><i class="fas fa-tags fa-fw" style="position:absolute;left:50px"></i> <span>标签</span></a></li><li><a href="/categories/" style="margin-left:75px"><i class="fas fa-bookmark fa-fw" style="position:absolute;left:50px"></i> <span>分类</span></a></li><li><a href="/archives/" style="margin-left:75px"><i class="fas fa-archive fa-fw" style="position:absolute;left:50px"></i> <span>归档</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;" rel="external nofollow noreferrer"><i class="fa-fw fas fa-toolbox"></i> 工具 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://t.me/chat_17laisite" style="margin-left:75px"><i class="fab fa-telegram-plane fa-fw" style="position:absolute;left:50px"></i> <span>TG交流群</span></a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://linux-command.17lai.site/" style="margin-left:75px"><i class="fas fa-terminal fa-fw" style="position:absolute;left:50px"></i> <span>Linux命令</span></a></li><li><a href="/dash/" style="margin-left:75px"><i class="fas fa-laptop-code fa-fw" style="position:absolute;left:50px"></i> <span>各种快查表</span></a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://alist.17lai.site/" style="margin-left:75px"><i class="fas fa-cloud fa-fw" style="position:absolute;left:50px"></i> <span>私人网盘</span></a></li><li><a href="/nav/" style="margin-left:75px"><i class="fas fa-tools fa-fw" style="position:absolute;left:50px"></i> <span>网址导航</span></a></li></ul></li><li class="m-nav-item"><a href="javascript:;" rel="external nofollow noreferrer"><i class="fa-fw fas fa-link"></i> 镜像 <span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://cfblog.17lai.site/" style="margin-left:75px"><i class="fas fa-link fa-fw" style="position:absolute;left:50px"></i> <span>CF镜像</span></a></li><li><a target="_blank" rel="noopener" href="https://v20blog.17lai.site/" style="margin-left:75px"><i class="fas fa-link fa-fw" style="position:absolute;left:50px"></i> <span>VPS镜像</span></a></li><li><a href="https://blog.17lai.site/" style="margin-left:75px"><i class="fas fa-link fa-fw" style="position:absolute;left:50px"></i> <span>主站</span></a></li></ul></li><li class="m-nav-item"><a href="/friends/" class="waves-effect waves-light"><i class="fa-fw fas fa-link"></i> 友链</a></li><li class="m-nav-item"><a href="/msg/" class="waves-effect waves-light"><i class="fa-fw fas fa-comment-alt"></i> 留言</a></li><li class="m-nav-item"><a href="/about/" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li></ul></div></div></nav></header><div id="banner" class="bg-cover pd-header post-cover" style="background-image:url(/medias_webp/cover/debian.webp)"><div class="bg-cover-before"></div><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand center"><h1 id="post-title" class="description center-align post-title"><span id="typed-strings"><span>Debian Lenny Laptop安装记录</span> </span><span id="typed"></span></h1><div class="center-align"><div id="umami-page-views-container" class="post-meta" style="display:inline"><i class="far fa-eye fa-fw"></i>查阅:&nbsp;&nbsp; <span id="umami-page-views" style="display:none;min-width:2rem"></span> <i id="umami_pageviews_loading_icon" class="fas fa-sync fa-spin" style="display:inline-block;min-width:2rem"></i>&nbsp;&nbsp;</div><div id="waline_container_comment_count" class="post-meta" style="display:inline"><i class="far fa-comment fa-fw"></i>评论:&nbsp;&nbsp; <span id="waline_comments_count" class="waline-comment-count" data-path="/posts/b1fe1bb8/" style="display:none;min-width:2rem"></span> <i id="waline_commentcount_loading_icon" class="fas fa-sync fa-spin infinite-rotate" style="display:inline-block;min-width:2rem"></i>条</div></div></div></div></div></div><div class="bg-cover-after"></div></div><main class="post-container content"><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/driver/"><span class="chip bg-color">driver</span> </a><a href="/tags/debian/"><span class="chip bg-color">debian</span> </a><a href="/tags/laptop/"><span class="chip bg-color">laptop</span> </a><a href="/tags/ed2k/"><span class="chip bg-color">ed2k</span> </a><a href="/tags/ati/"><span class="chip bg-color">ati</span></a></div></div><div class="col s5 right-align"><div class="post-cate"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/linux/" class="post-category">linux</a><link rel="alternate dns-prefetch" type="application/atom+xml" title="分类订阅--linux" href="https://blog.17lai.site/categories/linux/atom.xml"></div></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i> <span>发布:&nbsp;&nbsp;</span><time datetime="2021-08-18 16:25" pubdate> 2021年8月18日 下午</time></div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i> <span>更新:&nbsp;&nbsp;</span><time datetime="2023-03-13 14:02" update> 2023年3月13日 下午</time></div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>字数:&nbsp;&nbsp; 9.4k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i>阅时:&nbsp;&nbsp; 39 分</div><div id="read_mode" class="info-break-policy" style="display:inline"><i class="fas fa-expand-arrows-alt" title="【进入/离开】 阅读模式" aria-hidden="true"></i>&nbsp;&nbsp; <span title="【进入/离开】阅读模式" aria-hidden="true">阅读模式</span></div></div></div><hr class="clearfix"><div class="card-content article-card-content markdown-body"><div id="articleContent"><h2 id="Debian-Lenny-Laptop安装记录">Debian Lenny Laptop安装记录</h2><p>这是一篇非常有历史的文章了，写了十多年了。只在个人google doc中公开共享过。时至今日，参考价值还是非常大的。</p><p>目的是完全采用Linux系统来完成所有工作。</p><p>这篇文章当年我写了一周，每个步骤都是实践后仔细记录的。</p><h2 id="摘-要">摘 要</h2><p>​ 在现在电子信息化社会中，网络越来越重要，各种电子商务，网上银行，网络交友，SNS社区等越来越红火，各国政府都在进行电子信息化建设，准备网上办公，无纸化作业。信息化就是现代化的思想已经深入人心，然而信息化建设的基础硬件和软件：</p><p>硬件：CPU、主板、内存，硬盘等</p><p>软件：操作系统（Operate System如Linux,Windows,Mac OS等），浏览器(如Firefox，Opera，Maxthon，IE等)，文档处理（OpenOffice,WPS,Word等），媒体播放（Mplayer,Realplayer等），以及其它软件工具。</p><p>则是其中的重中之重，电子信息化社会信息安全最为关键。因为你不知道微软的Windows中给你预留了多少漏洞和后门，你不知道Intel或者AMD在它们生产的硬件中留下了什么缺陷，了解一点软硬件知识的人都知道，软件后门可以使微软进入你的电脑如同自己的电脑一样，微软可以看到所有你的文档，照片，工作生活的数据，你的电脑中的数据对微软而言没有任何秘密而言；硬件缺陷同样可以做后门用，甚至发送一段短码瞬间可以使你的电脑崩溃。可见安全多么重要，那么如何提高安全了？</p><p>​ 答案就是使用开源！开源早已经形成了一套完整的套件，上面介绍的软件中每样的地一种都是开源工具，完全免费！而且开放源代码，你可以知道每行代码的作用，后门、间谍将不复存在！你常用的Windows工具每样Linux都有替代品，很多工具甚至本来就是Linux中移植到Windows中来的，如暴风影音，比特精灵，Vim，Emacs等。</p><p>​ 本文简单的介绍了开源操作系统Debian的安装和配置，包括操作系统的安装、配置，常用工具的安装等详细过程，下文所叙全部经过测试，稳定运行。通过本文，您可以了解Linux操作系统大体组成结构，并且获得一部完全自己定制的操作系统！</p><p>[TOC]</p><h2 id="一：前言">一：前言</h2><h3 id="从今天开始做个Debianer">从今天开始做个Debianer</h3><p>刚从OpenSuSE 换过来的，感觉Debian非常强大。SuSE的yast2真的非常强大，刚离开yast感觉很痛苦，Novll的yast系统设置几乎在里面实现，它包括了系统硬件，软件设置，网络配置，服务器配置，各种系统设置等等。它把很多底层配置都接管了，使用SuSE的用户会发现SuSE比其他Linux发行版少很多配置文件。SuSE的yast2有命令行和图形界面两种操作方式，还有zypper这种完全命令行包管理工具。不过Debian的apt包管理更加强大，比zypper强大多了。</p><p>Debian以定制性非常强，运行稳定而著称，是最符合GNU精神的发行版，对各种硬件构架都支持，是世界上唯一一种几乎可以在所有硬件平台运行的操作系统。Ubuntu就是在Debian的基础上发行的衍生版。但是本人使用感觉Ubuntu的感觉不好，Ubuntu就像一个在Debian testing基础上优化过得Debian一样，而且阉割的厉害。不过正由于阉割的厉害，把用户管理的东西Ubuntu都自己设置了，Ubuntu才成为最容易操作的Linux操作系统，而且也是最流行的Linux操作系统。不过Ubuntu限制用户操作非常严，感觉这样很大程度上失去了Linux的自由，可定制等特性。对Linux新人来说一开始使用Debian会非常困难的，强烈建议对Linux包管理，运行结构了解大概后再开始使用Debian。</p><p>推荐的发行版有：</p><p><strong>OpenSuSE</strong>：优点是从Windows转过来几乎马上就可以上手，用户不需要改变多少使用习惯，并且图形界面非常华丽，号称是最华丽的Linux操作系统。默认的就比Windows XP漂亮多了，开启Compiz Fusion后的3D特效比Vista,Win 7都要漂亮。对一般用户家庭使用和办公使用完全可以满足要求。缺点就是国内源很少，官方源在国外比较慢，速度也不保证，升级只能是半夜了，不过采用DVD安装的话就没多大问题。SuSE的中文社区不完善也是一大缺点。</p><p><strong>Fedora</strong>：著名的Redhat公司出品，国内源非常多，中文化非常好，中文社区也非常活跃，很多问题可以直接中文搜出结果。缺点是对习惯Windows的用户来说，一开始就使用Fedora对大家的入门门坎比OpenSuSE高。</p><p><strong>Ubuntu</strong>：最流行的Linux发行版，使用非常简单，中文社区建设的非常好，源很多，缺点就是阉割的太厉害了。感觉这样的版本对深入了解Linux不好，个人看法，不过对非技术型用户使用到是个不错的选择。</p><p><strong>Debian</strong>是最自由，定制性最高的发行版，当然对用户的入门要求就更高了。但是，一经你上手了，那么就再别无他求。Debian的好是谁用谁知道！</p><p>刚用上Debian，总结下，下面可能有错误之处，希望大家指出来。参考了很多人的文章下来的，对他们表示感谢！</p><p>注意：本教程为</p><h2 id="二：安装Debian之前的准备工作">二：安装Debian之前的准备工作</h2><p>● 强烈建议新人刚开始装不要按《 Debian etch 简要安装指南》那篇文章来，特别是笔记本用户，除非你对你的硬件非常熟悉。建议大家安装的时候选择图形界面安装。安装的时候选择图形界面，把Base system,Loptop,Desktop都安装上，这样会少很多麻烦的，它装了多余的东西和服务还是等进入桌面后再自己删除比较好。发现这样安装还是非常干净的，比之SuSE，Fedora之类的发行版默认安装东西要少多了。</p><p>● 阵痛了好几天了，这几天重装了好多次Debian了，现在终于差不多了，3d打开了，系统很稳定。</p><p>笔记本是Dell Inspiron6400。</p><p>● 强烈建议大家装机之前看看debian的官方wiki</p><p>例如我，就看下面这个：</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny">http://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny</a></p><p>● 大家的笔记本其他型号的话到下面网址找对应的型号</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://wiki.debian.org/InstallingDebianOn/">http://wiki.debian.org/InstallingDebianOn/</a></p><p>上面网址的参考下就可以了，有些问题很多种解决方法的。</p><h2 id="三：开始安装Debian">三：开始安装Debian</h2><h3 id="3-1：安装前的准备和安装方法选择">3.1：安装前的准备和安装方法选择</h3><p>debian提供了很多安装方法，有网络安装，光盘安装，U盘安装，硬盘安装等多种方法。这里介绍下载光盘安装，这是对大多数人来说最为方便的安装发放，下载第一张光盘CD或者DVD镜像准备刻录安装。</p><p>注意：先备份好重要的资料！比如copy到移动硬盘，或者其它主机上等以免错误的操作造成不必要的损失。</p><p>进入Bios中设置光驱第一启动，放入光盘，等加载内核界面过去后，就进入安装界面了。</p><h3 id="3-2：开始安装Debian">3.2：开始安装Debian</h3><ol><li><p>选择安装程序使用的语言，推荐选择English，选中文会装zhcon。</p></li><li><p>选择国家，首先选择 other ，然后在选择 Asia ，最后选上 China 。</p></li><li><p>选择键盘，直接默认就好了，也就是 American English ，如果你的不是美式键盘，就选择相应的键盘。</p></li><li><p>设置网络，如果是 DHCP ，填上主机名和所在的域名就好了，如果是静态 IP ，根据相应的填上就 OK。这里有无线网卡的朋友就有些郁闷了，记得先去下载你的无线驱动的deb包，放到u盘根目录插上usb结构，系统会自动安装你的无线驱动。（但是这里安装好了还是无法dhcp连上无线，我采用有线装的，不知道谁这里无线配成功了。装完系统后再使用＃apt-get install firmware-iwlwifi 也可以。）</p></li><li><p>磁盘分区，根据个人的情况进行。这里要小心了，如果你有重要的资料的话，推荐手动分区。</p></li><li><p>对分区进行确认后就开始安装基本的系统，等待一段时间。</p></li><li><p>然后就是设置 root 账户的密码，以及日常使用的一个账户名称和密码。</p></li><li><p>账户设置好后对源进行设置，这里推荐手工输入。选择最上面一项。</p></li></ol><p>○ 输入：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://debian.cn99.com">debian.cn99.com</a> 或者：<a target="_blank" rel="noopener external nofollow noreferrer" href="http://mirrors.163.com">mirrors.163.com</a></p><p>○ 目录就是/debian/ 不需要改动。这两个其实都是一个源，我看到主机ip地址一样。这个应该是国内最快的源了。至少对大部分人来说。</p><ol start="9"><li><p>根据个人的情况选择安装软件，推荐选择base system,laptop,desktop。</p></li><li><p>安装中，看网络状况时间不同，等待…。</p></li><li><p>安装 GRUB ，Yes安装到 MBR。</p></li><li><p>安装完毕，最后 Continue 回车重启进入期待已久的 Debian Lenny GNU/Linux。</p></li></ol><h2 id="四：配置Debia的基本中文操作环境">四：配置Debia的基本中文操作环境</h2><p>他哦难过上面二、三步，到现在你已经获得了一个基本的Debian Lenny操作系统了。但是到现在为止说能够顺手使用还太早，在正是使用之前还有几个事情需要做。</p><p>（注意＃号提示的是root用户权限）</p><h3 id="4-1：中文语言环境">4.1：中文语言环境</h3><h4 id="4-1-1-重新配置locale，添加中文locale">4.1.1:重新配置locale，添加中文locale</h4><p>​ 选择以下locale，以下为推荐语言环境，用户可以根据自己语言习惯自由选择：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#dpkg-reconfigure locales
en_US ISO-8859-1
en_US.UTF-8 UTF-8
zh_CN GB2312
zh_CN.GB18030 GB18030
zh_CN.GBK GBK
zh_CN.UTF-8 UTF-8
zh_HK BIG5-HKSCS
zh_HK.UTF-8 UTF-8
zh_TW BIG5
zh_TW.EUC-TW EUC-TW
zh_TW.UTF-8 UTF-8</code></pre></div></figure><p>选择默认的locale为en_US.UTF-8或者 zh_CN.UTF-8。</p><h4 id="4-1-2-安装localepurge">4.1.2:安装localepurge</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">＃apt-get install localepurge</code></pre></div></figure><p>​ 在对话框中选择你要保留使用的locale，默认情况下它已经选好了你现前设置的那些locale，不过还是请仔细确认后再回车。当然你也可以使用 dpkg-reconfigure localepurge 来进行详细的配置。</p><p>● 清除你用不着的locale，让他们释放你的磁盘空间</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">＃localepurge</code></pre></div></figure><p>​ 以后你不管安装什么软件，它都将自动帮你清除那些没用的locale。清除完，它会提示你释放了多少磁盘空间。当然你可以配置它让它显示清除了哪些locale。</p><p>​ Linux下面还有其他工具清理,如BleachBit，这是一款专为Linux 设计的系统清理工具。使用BleachBit，你可以清理系统中的缓存、不要的语言文件，历史、临时文件、cookies 等不需要的东西，这样可以释放你空间。推荐，不过Stable的源中没有该包，需要手动下载安装。</p><h3 id="4-2-实现root用户登录自动Tab补全">4.2:实现root用户登录自动Tab补全</h3><p>修改 .bashrc ，打开bash_completion，让apt-get install 在ROOT 登录的情况下自动补全，其他用户自动设置好了的，不用修改。你可以先用VI打开 /etc/bash.bashrc ,在最下面用命令模式下的V 再按上下左右键老选择，按y键复制，（默认打开VI就处于命令模式。i a o s键插入，编辑模式，ESC返回，：q! 退出。） 然后 vi ~/.bashrc 按p 键粘贴。最后象这样</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">if [ -f /etc/bash_completion ]; then
. /etc/bash_completion
fi</code></pre></div></figure><p>当然你也可以用nano ,更简单。要复制功能,那么apt-get install gpm 然后 /etc/init.d/gpm start ，现在动下鼠标。是不是在动了，gpm是一个控制台下的鼠标服务。用鼠标左击拖动选中，右键粘贴。</p><h3 id="4-3：将用户加入到sudoers列表中">4.3：将用户加入到sudoers列表中</h3><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#chmod +w /etc/sudoers
#vim /etc/sudoers</code></pre></div></figure><p>添加一行：username ALL=(ALL) ALL</p><p>其中username是你的用户名，保存</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#chmod 0440 /etc/sudoers</code></pre></div></figure><p>这样，您的普通用户可以使用"sudo + [命令]"来执行需要管理员权限的操作</p><h3 id="4-4-配置更新源并更新系统">4.4:配置更新源并更新系统</h3><h4 id="4-4-1-备份旧的源">4.4.1:备份旧的源</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">＃cp /etc/apt/sources.list /etc/apt/sources.list.old</code></pre></div></figure><h4 id="4-4-2-配置新源">4.4.2:配置新源</h4><p>把下面的加进去，应该可以满足绝大多数人的要求了。</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#gedit /etc/apt/sources.list
＃＃＃====sources.list Begin===＃＃＃
##cn99
deb http://debian.cn99.com/debian/ lenny main non-free contrib
deb-src http://debian.cn99.com/debian/ lenny main non-free contrib
deb http://debian.cn99.com/debian/ lenny-proposed-updates main non-free contrib
deb-src http://debian.cn99.com/debian/ lenny-proposed-updates main non-free contrib
 
deb http://debian.cn99.com/debian-security/ lenny/updates main contrib non-free
deb-src http://debian.cn99.com/debian-security/ lenny/updates main contrib non-free
deb http://debian.cn99.com/debian-backport/ lenny-backports main contrib non-free
deb-src http://debian.cn99.com/debian-backport/ lenny-backports main contrib non-free
deb http://security.debian.org/ lenny/updates main contrib non-free
deb-src http://security.debian.org/ lenny/updates main contrib non-free

deb http://volatile.debian.org/debian-volatile lenny/volatile main contrib non-free
deb-src http://volatile.debian.org/debian-volatile lenny/volatile main contrib non-free 

deb http://http.us.debian.org/debian/ lenny main contrib non-free
deb-src http://http.us.debian.org/debian/ lenny main contrib non-free
deb http://www.debian-multimedia.org/ lenny main
deb-src http://www.debian-multimedia.org/ lenny main 

deb http://download.virtualbox.org/virtualbox/debian lenny non-free
＃＃＃===sources.list End===＃＃＃</code></pre></div></figure><p>注意：debian-multimedia.org的源需要安装KEY，在<a target="_blank" rel="noopener external nofollow noreferrer" href="http://debian-multimedia.org">http://debian-multimedia.org</a> 下载安装debian-multimedia-keyring_2008.10.16_all.deb</p><p>Debian采用严格的GPG认证来保证安装包不被恶意篡改，使您已经安装就是最新最稳定的系统！</p><h4 id="4-4-3-更新源并升级系统">4.4.3:更新源并升级系统</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt－get update</code></pre></div></figure><p>这里就会提醒你有那些源没有GPG密匙，把错误密匙代号放到 iceweasel的搜索框，回车，就会看到大量的相关问题，随便点开2个就可以看到怎么样取得密匙。这个是偷懒的办法，但是非常有效！建议。</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">＃apt-get update &amp;&amp; apt-get upgrade</code></pre></div></figure><p>这次才是真的升级系统。如果通过网络安装，一般安装过程中就会自动选择最新的稳定的最新无漏洞包，一般来说没有更新包。</p><h3 id="四：网卡，声卡及显卡驱动安装">四：网卡，声卡及显卡驱动安装</h3><h3 id="4-1-配置无线网卡和ADSL来上网">4.1: 配置无线网卡和ADSL来上网</h3><p>系统默认一般会识别有线的网卡驱动，Linux几乎可以识别现在所有的有线网卡，而无线网卡驱动由于是非</p><h4 id="4-1-1-配置无线网卡">4.1.1:配置无线网卡</h4><p>● 驱动 这个看个文的硬件了</p><p>​ ＃apt-get install firmware-iwlwifi</p><p>​ ＃modprobe iwl3945 ＃加载内核模块</p><p>​ 这个我的Dell Inspiron6400的无线网卡是Intel 3945，其他无线网卡型号的用户请自己查找相关驱动包。</p><p>● 安装管理工具</p><p>​ apt-get install wifi-radar</p><p>● 配置无线</p><p>看大家的无线设置，选择Essid,加密方式，频段等。</p><h4 id="4-1-2-使用PPPOE连接ADSL">4.1.2:使用PPPOE连接ADSL</h4><p>● 使用PPPOE连接Adsl</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install pppoeconf
#pppoeconf #设置用户名与密码
#pon dsl-provider #连接
#poff #断开</code></pre></div></figure><h3 id="4-2-让alsa把你的声卡驱动起来">4.2:让alsa把你的声卡驱动起来</h3><p>#apt-get install alsa-base alsa-utils alsa-oss</p><p>**配置声卡：**执行 alsaconf 一路回车。 再执行alsa-mixer 设置音量，M键取消静音，ESC 键退出。保存设置 alsactl store。</p><p>**测试 声卡：**cat /dev/urandom &gt; /dev/dsp 你将会听到非常好听的声音，恭喜你，你的声卡工作了。</p><p>ctrl+c 终止它，当然你喜欢它的话，可以不那么做<sup>_</sup></p><p>到这里，你的X服务器和声卡就安装配置好了。</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install gnome-audio esound</code></pre></div></figure><p>esound是gnome下的软件混音器</p><h3 id="4-3-显卡驱动的安装及配置">4.3:显卡驱动的安装及配置</h3><p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://wiki.cchtml.com/index.php/Ubuntu_Dapper_Installation_Guide">http://wiki.cchtml.com/index.php/Ubuntu_Dapper_Installation_Guide</a></p><p>安装编译驱动所需的环境</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get update
sudo apt-get install module-assistant build-essential
sudo apt-get install fakeroot dh-make debconf libstdc++5 linux-headers-$(uname -r)</code></pre></div></figure><p>创建安装包</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo ./ati-driver-installer-8.x.x.run --buildpkg debian/testing</code></pre></div></figure><p>安装这些创建的包b</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo dpkg -i xorg-driver-fglrx_8.x.x-1_i386.deb -f
sudo dpkg -i fglrx-kernel-source_8.x.x-1_i386.deb -f
sudo dpkg -i fglrx-control_8.x.x-1_i386.deb -f</code></pre></div></figure><p>删除旧的源码包</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo rm /usr/src/fglrx-kernel*.deb</code></pre></div></figure><p>编译并安装驱动模块</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo module-assistant build fglrx
sudo module-assistant install fglrx
sudo depmod -a</code></pre></div></figure><p>编辑你的/etc/X11/xorg.conf</p><p>在 Section “Module” 中加入</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Load "fglrx"
Load "dri"
Load "glx"</code></pre></div></figure><p>在Section “Device” 中把驱动换成</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Driver "fglrx"</code></pre></div></figure><h4 id="4-3-1-ATI显卡驱动安装">4.3.1:ATI显卡驱动安装</h4><p>To build your own .deb packages you will need to install at least the following packages from the apt repositories:</p><p>● fakeroot</p><p>● debhelper</p><p>● build-essential</p><p>● make</p><p>● module-assistant</p><h5 id="Installing-from-Debian-non-free">Installing from Debian non-free</h5><p>Note: in lenny, they’ve renamed fglrx-kernel-src to fglrx-source (but the following worked for me with that substitution).</p><h5 id="Install-the-driver">Install the driver</h5><p>sudo apt-get update</p><p>sudo apt-get install module-assistant fglrx-driver fglrx-kernel-src</p><h5 id="build-and-install-the-module">build and install the module</h5><p>#:sudo module-assistant auto-install fglrx-kernel-src</p><p>After this, you need</p><p>#:sudo aticonfig --initial</p><p>This will update your xorg.conf to use the new driver. Restart for the changes to take effect.</p><p>＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝＝</p><p><strong>1</strong> <strong>构建相应的系统驱动包：</strong></p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./ati-driver-installer-8.41.7-x86.x86_64.run --buildpkg Debian/unstable</code></pre></div></figure><p>我们可以用下面的命令来列出所有可以构建的程序包：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./ati-driver-installer-8.41.7-x86.x86_64.run --listpkg</code></pre></div></figure><p>我们可以从这个输出中选择适合我们系统的参数来进行构建相应的程序包。</p><p><strong>2</strong> <strong>安装所构建的程序包：</strong></p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># dpkg -i fglrx*.deb</code></pre></div></figure><p><strong>3</strong> <strong>安装module-assistant工具：</strong></p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-get install module-assistant</code></pre></div></figure><p><strong>4</strong> <strong>使用m-a安装驱动模块</strong></p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># m-a prepare
# m-a a-i fglrx</code></pre></div></figure><p>驱动模块的安装需要相应的内核头文件，所以我们在进行这一步之前需要安装相应的头文件：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-get install linux-headers-`uname -r`</code></pre></div></figure><p>这样就可以自动来安装fglrx驱动模块了。</p><p>此时我们可以通过下面的命令来测试fglrx驱动模块是否安装成功：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># modprobe fglrx </code></pre></div></figure><p><strong>5</strong> <strong>配置Xorg.conf</strong></p><p>在配置中我们要做的主要工作就要载入fglrx模块，在"Deveice"部分，将vesa驱动改为fglrx，重新启动X。如果一切正常，我们就可以享受到ATI驱动的带来的视觉效果了。</p><p>我们可以用下面的命令来检测我们的ATI驱动是否安装成功：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ fglrxinfo</code></pre></div></figure><p>我们应得到下面的输出：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">display: :0.0 screen: 0
OpenGL vendor string: ATI Technologies Inc.
OpenGL renderer string: ATI Mobility Radeon HD 2400 XT
OpenGL version string: 2.1.7059 Release</code></pre></div></figure><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ glxinfo | grep direct</code></pre></div></figure><p>我们希望的输出结果为：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">direct rendering: Yes</code></pre></div></figure><p>而我们在源中也可以找到相应的fglrx程序包：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-cache search fglrx</code></pre></div></figure><p>个人觉得没有必要非得安装所谓的官方驱动包，因为由所谓的官方驱动包中所解出正是源中的几个程序包，而我在安装了官方的驱动程序包后进行了一下upgrade，居然更新其中的两个包，既然这样，我们还不如直接安装源中的驱动程序包方便：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-get install fglrx* </code></pre></div></figure><p>使用m-a安装驱动模块时，我们也可以使用分步的安装方式，先编译，再安装，而不必一步到位：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># m-a get fglrx
# m-a build fglrx</code></pre></div></figure><p>这 时就会在/usr/src/目录下生成一个fglrx的deb包。编译驱动程序模块时需要安装Linux内核头文件，我的内核是自己编译的2.6.23， 但是在源中却迟迟没有相应的头文件包，真是相当郁闷的说。但是即使是这样，我却依然得到了一个编译生成的fglrx的deb包。我们可以使用dpkg来进 行安装。</p><p>最后需要进行Xorg的配置。最简单的就是将驱动改为fglrx。当然我们也可以使用ati所提供的相应工具来进行配置：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># aticonfig --initial --input=/etc/X11/xorg.conf</code></pre></div></figure><p>这会进行相应的检测，并且修改xorg.conf文件。</p><h4 id="4-3-2-NVIDIA显卡驱动的安装">4.3.2:NVIDIA显卡驱动的安装</h4><h2 id="五：常用软件安装及配置">五：常用软件安装及配置</h2><p>​ 发现Debian 即使是选择了base system,laptop,desktop其实也没有装多少东西，很多还需要自己安装,例如alsa-oss,gnome-audio等默认没有安装（应该没有记错）。下面很多东西可能系统已经安装了，但是这么做没有错的，下面的都是几乎不可缺少的组件。</p><h4 id="5-1-Gnome相关">5.1:Gnome相关</h4><h4 id="5-1-1-Gnome基本系统及基本管理工具">5.1.1:Gnome基本系统及基本管理工具</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install xorg gnome-core gdm gdm-themes gnome-system-tools gconf-editor nautilus-open-terminal gnome-power-manager gnome-screensaver</code></pre></div></figure><p>xorg X窗口系统</p><blockquote><p>gnome-core gnome核型组件</p><p>gdm #gnome 默认的窗口管理器</p><p>gnome-system-tools 服务、网络等系统工具</p><p>gconf-editor 配置编辑器</p><p>nautilus-open-terminal 在右键菜单中加入终端</p><p>gnome-power-manager #电源管理，休眠支持</p><p>gnome-screensaver #锁屏</p><p>gconf-editor #配置编辑器</p><p>ntfs-3g #支持NTFS文件格式的读写</p><p>nautilus-gksu #以管理员权限打开目录</p></blockquote><h4 id="5-1-2-安装gnome主题、图标、背景">5.1.2:安装gnome主题、图标、背景</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install  gnome-themes gnome-icon-theme-dlg-neu gnome-backgrounds</code></pre></div></figure><h3 id="5-3-常用软件工具安装">5.3:常用软件工具安装</h3><h4 id="5-3-1-字体安装">5.3.1:字体安装</h4><h5 id="●-使用apt">● 使用apt</h5><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">＃ apt-get install ttf-bitstream-vera ttf-arphic-uming  ttf-freefont #ttf-freefont 解决flash菜单可能的乱码，</code></pre></div></figure><p>WQY点整字体: apt-get install xfonts-wqy</p><p>ttf-wqy-zenhei #文泉驿正黑字体</p><h5 id="●-手工安装字体">● 手工安装字体</h5><p>把字体".ttf"字体copy到"/usr/share/fonts"下面的某目录中</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo mkfontscale
sudo mkfontdir
sudo fc-cache</code></pre></div></figure><h5 id="●-系统字体优化：">● 系统字体优化：</h5><p>1.右击桌面，打开外观管理器中的字体选项卡，将其中的字体全部改成雅黑字体，同时把窗口标题设置为加粗，并选择LCD模式。</p><p>2.在终端里输入指令</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none">sudo gedit /etc/fonts/conf.d/49-sansserif.conf</code></pre></div></figure><p>将其中的字体全部改成雅黑，该操作也可以同时解决flash中出现方框的问题。</p><h4></h4><p>5.3.2:输入法</p><p>● 安装scim中文输入法，可选其他的如fcitx</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install scim scim-pinyin scim-tables-zh im-switch
#im-switch -z en_US -s scim #英文系统下使用SCIM：
scim-qtimm #scim兼容QT程序
#im-switch -s scim -z default</code></pre></div></figure><p>● 光标跟随</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#gedit /etc/X11/xinit/xinput.d/scim
#GTK_IM_MODULE=xim
#QT_IM_MODULE=xim
GTK_IM_MODULE=scim
QT_IM_MODULE=scim</code></pre></div></figure><p>● 或者选择fctix</p><p>不管你是kde还是gnome 安装fcitx就这样：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt-get install fcitx im-switch
im-switch -s fcitx -z default</code></pre></div></figure><h4 id="5-3-3-双击安装deb文件">5.3.3:双击安装deb文件</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install gdeb</code></pre></div></figure><h4 id="5-3-4-压缩与解压缩">5.3.4:压缩与解压缩</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install file-roller p7zip-full cabextract rar unrar  p7zip-rar rar unrar cabextract#7z,rar，cab

＃apt-get install gnochm</code></pre></div></figure><h4 id="gnochm-CHM阅读，或者chmsee">gnochm #CHM阅读，或者chmsee</h4><p>5.3.5:安装OpenOffice.org</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install openoffice.org-writer openoffice.org-calc openoffice.org-math openoffice.org-impress openoffice.org-gtk openoffice.org-help-en-us
#apt-get install openoffice.org-l10n-zh-cn openoffice.org-help-zh-cn #中文界面和中文帮助</code></pre></div></figure><h4 id="5-3-6-安装视频播放器">5.3.6:安装视频播放器</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install mplayer w32codecs smplayer</code></pre></div></figure><p>w32codecs #多媒体库</p><h4 id="5-3-7-PDF阅读">5.3.7:PDF阅读</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install evince xpdf xpdf-chinese-simplified xpdf-chinese-traditional poppler-data</code></pre></div></figure><p>xpdf-chinese-simplified xpdf-chinese-traditional poppler-data完美中文支持</p><h4 id="5-3-8-图像处理">5.3.8:图像处理</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install gimp</code></pre></div></figure><h4 id="5-3-9-网络通讯">5.3.9:网络通讯</h4><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install pidgin</code></pre></div></figure><ol start="11"><li>编程环境支持</li></ol><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install build-essential libgtk2.0-dev freeglut3-dev libtool autoconf automake subversion</code></pre></div></figure><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">deb http://apt.jenslody.de/ any main
deb-src http://apt.jenslody.de/ any main
deb http://apt.wxwidgets.org/ etch-wx main
#KEY：
wget -q http://apt.jenslody.de/jens.asc -O- | sudo apt-key add -
wget -q http://apt.wxwidgets.org/key.asc -O- | sudo apt-key add -</code></pre></div></figure><ol start="4"><li>其他安装</li></ol><p>安装Multiget：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://multiget.sourceforge.net/download.html">http://multiget.sourceforge.net/download.html</a></p><p>安装Opera：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.opera.com/download/">http://www.opera.com/download/</a></p><p>安装RealPlayer：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.real.com/linux">http://www.real.com/linux</a></p><p>安装AdobeReader：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.adobe.com/products/acrobat/readstep2_allversions.html">http://www.adobe.com/products/acrobat/readstep2_allversions.html</a></p><p>安装FlashPlayer：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;P2_Platform=Linux">http://www.adobe.com/shockwave/download/download.cgi?P1_Prod_Version=ShockwaveFlash&amp;P2_Platform=Linux</a></p><p>编译CodeBlocks的SVN版本：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">svn checkout svn://svn.berlios.de/codeblocks/trunk ~/Downloads/CodeBlocks</code></pre></div></figure><p>安装CodeBlocks：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install codeblocks</code></pre></div></figure><p>alien a package converter,将rpm,dpkg,stampede slp己slackware tgz档格式间的转换</p><p>pdfedit 修改pdf文件</p><p>linux开发工具： gcc,make,autoconf,diff,patch,rcs,emacs</p><p>mysql-admin,mysql-navigator,mysql-query-browser</p><p>安装版本控制软件</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install subversion cvs</code></pre></div></figure><p>安装中文输入法</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install scim-pinyin</code></pre></div></figure><p>安装词典 <a target="_blank" rel="noopener external nofollow noreferrer" href="http://stardict.sourceforge.net">http://stardict.sourceforge.net</a></p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install stardict sox</code></pre></div></figure><p>/usr/share/stardict/dic/stardict-langdao-ce-gb-2.4.2 (郎道汉英辞典)</p><p>/usr/share/stardict/dic/stardict-langdao-ec-gb-2.4.2 (郎道英汉辞典)</p><p>/usr/share/WyabdcRealPeopleTTS (英文语音词库)</p><p>安装邮件客户端</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install thunderbird</code></pre></div></figure><p>安装 win-xchm查看器</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install xchm</code></pre></div></figure><p>安装 msn for linux</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install emesene</code></pre></div></figure><p>安装下载工具 ( bt 工具 transmission 默认已安装 ; amule 对应windows平台的 emule)</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install gwget amule</code></pre></div></figure><p>安装 rss 订阅工具</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install liferea</code></pre></div></figure><p>硬件监控工具</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install sensors-applet</code></pre></div></figure><p>远程桌面管理,RDP默认已安装</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install xvnc4viewer</code></pre></div></figure><p>安装视频/音频解码器</p><p>gnome 平台推荐用 totem+gstreamer*, 直接点击多媒体文件,totem会自动搜索匹配解码器安装</p><p>特殊的rm, rmvb格式文件, RealPlayer 11 for Linux 刚发布 (<a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.real.com/linux">http://www.real.com/linux</a>) ,效果不错,可以不用 w32codecs 了.</p><p>安装 flash for firefox, 新版多了一个选项”swfdec player”, 推荐, 其对CPU消耗改善了</p><ol><li><p>swfdec player for adobe/macromedia flash</p></li><li><p>adobe flash player</p></li><li><p>gnash swf player</p></li></ol><p>中文编码配置</p><p>sudo vi /var/lib/locales/supported.d/zh</p><p>加入以下编码支持</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">zh_CN.GB18030 GB18030
zh_CN.GBK GBK
zh_CN.GB2312 GB2312
zh_HK.BIG5 BIG5
zh_TW.BIG5 BIG5</code></pre></div></figure><p>立即应用更新</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo locale-gen</code></pre></div></figure><p>安装 vim</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install vim</code></pre></div></figure><p>配置 vim</p><p>sudo vi /etc/vim.local</p><p>加入以下设置(个人喜好)</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">syntax on

set expandtab

set tabstop=4

set shiftwidth=4

set sts=4

set autoindent

set smartindent

set cindent

set number

let &amp;termencoding=&amp;encoding

set fileencodings=utf-8,gb18030,gbk,gb2312,big5</code></pre></div></figure><p>配置 gedit</p><p>执行 sudo gconf-editor</p><p>选择 apps/gedit-2/preferences/encodings</p><p>找到 auto_detected 编辑，在Values中分别加入 GB18030,GBK,GB2312,BIG5</p><p>界面风格 <a target="_blank" rel="noopener external nofollow noreferrer" href="http://art.gnome.org">http://art.gnome.org</a></p><p>Ubuntu 默认的橘黄风格让我”焦躁”,一直偏向用蓝,灰的风格</p><p>窗体用 SimpleBox (2.6 kb, 下载安装)</p><p>图标用 tango ( apt-get install tango-icon-theme )</p><p>Others</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">apt-show-source apt-show-versions archmage chmsee aria2 debian-faq-zh-cn fontforge gedit-plugins gtkcookie gupnp-tools htmldoc powersaved tor ttf-bitstream-vera vim-addon-manager</code></pre></div></figure><h2 id="六：笔记本配置专辑">六：笔记本配置专辑</h2><p><strong>Dell Inspiron 6400</strong></p><table><thead><tr><th><img src="https://cimg1.17lai.site/data/2021/08/1820210818223005.jpg" width="314" height="314" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></th><th>- Video card: Intel Corporation- Mobile 945GM/GMS/940GML Express Integrated Graphics Controller- RAM: 2Go- Hard disk drive: 100Go- Processor: Pentium Dual-core 1.86GHz <em>(T2130)</em>- Ethernet card: Broadcom Corporation BCM4401-B0 100Base-TX- Wifi Card: Intel Corporation PRO/Wireless 3945ABG Network Connection- Optical device: DVD+RW- Screen WSXGA+: resolution=1200x800, size=15,4" wide</th></tr></thead><tbody><tr><td></td><td></td></tr></tbody></table><h2 id="Overall-Status">Overall Status</h2><table><thead><tr><th><strong>Core Components</strong></th><th></th><th></th></tr></thead><tbody><tr><td>Boot Standard Kernel:</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223057.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>LAN network card:</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223104.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>Detect CD/DVD:</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223104.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>Detect hard drives:</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223119.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td><strong>Extra Features</strong></td><td></td><td></td></tr><tr><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny#cpu">CPU Frequency Scaling</a></td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223130.gif" width="16" height="16" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny#power">Hibernation</a></td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223136.gif" width="16" height="16" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny#power">Sleep / Suspend</a></td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223136.gif" width="16" height="16" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny#display">Xorg</a></td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223148.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>- OpenGL</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223200.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>- Resize-and-Rotate(randr)</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223209.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>Switch to External Screen</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223223.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>Mouse</td><td></td><td></td></tr><tr><td>- Built-in (Trackpoint)</td><td>[-]</td><td></td></tr><tr><td>- Built-in (Touchpad)</td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223231.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td>Modem</td><td>[?]</td><td></td></tr><tr><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny#wifi">Wireless/Wifi</a></td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223237.gif" width="15" height="15" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr><tr><td><a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny#keys">Keyboard’s Hotkeys</a></td><td><img src="https://cimg1.17lai.site/data/2021/08/1820210818223238.gif" width="16" height="16" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""></td><td></td></tr></tbody></table><p>Legend :</p><ul><li><p><img src="https://cimg1.17lai.site/data/2021/08/1820210818223249.gif" width="14" height="12" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""> = OK ;</p></li><li><p><img src="https://cimg1.17lai.site/data/2021/08/1820210818223256.gif" width="16" height="16" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""> Unsupported(No Driver) ;</p></li><li><p><img src="https://cimg1.17lai.site/data/2021/08/1820210818223302.gif" width="15" height="15" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""> = Error (Couldn’t get it working);</p></li><li><p>[?] Unknown, Not Test ;</p></li><li><p>[-] Not-applicable</p></li><li><p><img src="https://cimg1.17lai.site/data/2021/08/1820210818223346.gif" width="16" height="16" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""> = Configuration Required;</p></li><li><p><img src="https://cimg1.17lai.site/data/2021/08/1820210818223308.gif" width="15" height="15" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt=""> = Only works with a non-free driver/firmware</p></li></ul><h2 id="Configuration">Configuration</h2><h2 id="Display">Display</h2><p>You will need to install the 915resolution package:</p><p># apt-get install 915resolution xserver-xorg-video-intel</p><p># 915resolution</p><p>The 915resolution will try to get highest resolution, you can change this at /etc/default/915resolution.</p><p>If you wish to enable DRI, GLX, etc. see <a href="https://wiki.debian.org/InstallingDebianOn/Dell/Inspiron6400/lenny?action=AttachFile&amp;do=view&amp;target=Xorg.conf_Lenny_DellInspiron6400.txt" rel="external nofollow noreferrer">Xorg.conf_Lenny_DellInspiron6400.txt</a> . My configuration works fine with <a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.debian.org/Compiz">Compiz</a>.</p><p>If using newer “xserver-xorg” (version 7.3 +), do not install “915resolution” as it conflicts with “xserver-xorg-video-all” and “xserver-xorg-video-intel”. Also install “libgl1-mesa-dri” (and this also installs “libgl1-mesa-glx”) for OpenGL support. Use “glxinfo | grep direct” to check for direct rendering. The “glxinfo” util comes with the “mesa-utils” package. (Thanks to enouf and Nemoder on #debian@OFTC)</p><h2 id="Hibernation-and-Sleep-Suspend">Hibernation and Sleep/Suspend</h2><p>Works fine. Install,</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none"># apt-get install acpid hal pm-utils uswsusp powermgmt-base</code></pre></div></figure><p>We will need to unload the “b44” module before hibernating, add the following to “/etc/pm/config.d/unload_modules”:</p><p>SUSPEND_MODULES=“b44”</p><p>The wireless drivers will be automatically handled by pm-utils. You should then be able to hibernate:</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none"># pm-hibernate</code></pre></div></figure><p>And suspend:</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none"># pm-suspend</code></pre></div></figure><p>Note that if you are trying to hibernate/suspend from within GNOME, you will need to be a member of the " powerdev" group.</p><h2 id="CPU-Power-Scaling">CPU Power Scaling</h2><p>Add a few modules to be loaded,</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># echo "acpi-cpufreq" &gt;&gt; /etc/modules
# echo "speedstep_centrino" &gt;&gt; /etc/modules</code></pre></div></figure><p>Then, install the “powernowd” daemon:</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-get install powernowd</code></pre></div></figure><p>Powenowd’s default settings should be OK for most people.</p><h2 id="Hotkeys">Hotkeys</h2><p>These are automatically configures by:</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-get install hotkey-setup</code></pre></div></figure><h2 id="WiFi">WiFi</h2><p>We need to install the firmware:</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"># apt-get install firmware-iwlwifi</code></pre></div></figure><p>And it should work. If you get an error like “Kill switch must be turned off in order for wireless networking to work.” during system boot, you need to press the magic Fn + F2 button.</p><h2 id="七：其他问题">七：其他问题</h2><h3 id="0-多源混合使用">0.多源混合使用</h3><p>安装完稳定版系统，请先为整个系统所有软件包设置 hold on 状态，aptitude 可以很容易的完成此任务。 接着，添加多个版本的源，即由上而下依次为： stable stable-backports （当前是 lenny-backports，<a target="_blank" rel="noopener external nofollow noreferrer" href="http://wiki.debian.org/Backports%EF%BC%89">http://wiki.debian.org/Backports）</a> testing sid experimental， 然后，请针对特定软件包的特定版本升级，注意一次升级一个包彻底解决一个包，勿贪心。 升级完成，再次设置 hold on 状态，如此反复。</p><p>有时需要人工介入满足特定软件包的依赖关系。 如，为了使用 DRI，给 lenny 安装新版 ati 开源驱动 radeon 软件包， 需要先手工升级 mesalib-7.4.<em>、xorg-server-1.6.</em> 等， 再手工安装 radeon 软件包，而不能直接安装 radeon 软件包的新版本， 混用多个版本的源时，aptitude 自动计算的依赖关系并不总是可靠的。</p><p>如果仍不够新，那就要自己动手配置编译。 如果愿意可以使用 debian 方式编译打包。</p><p>如果升级的软件包依赖一些基本的软件包如 glibc，最终得到的系统将不再是 debian 稳定版。</p><ol><li><h3 id="自动挂载U盘中文文件名乱码问题">自动挂载U盘中文文件名乱码问题</h3></li></ol><p>解决方法：系统工具-&gt;配置编辑-&gt;/system/storage/default_options/vfat，双击mount_options，”添加”，在“新列表值”中填入“utf8”。</p><ol start="2"><li><h3 id="apt-get与dpkg的基本用法">apt-get与dpkg的基本用法</h3></li></ol><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#apt-get install packagename #安装一个新软件包
#apt-get remove packagename #卸载一个已安装的软件包（保留配置文件）
#apt-get --purge remove packagename #卸载一个已安装的软件包（删除配置文件）
#dpkg --force-all --purge packagename #强制卸载，风险大！
#apt-get upgrade #更新所有已安装的软件包
#apt-get dist-upgrade #将系统升级到新版本
$apt-cache search 正则表达式 #在软件包列表中搜索字符串
$dpkg -l 正则表达式 #列出所有与模式相匹配的软件包
#apt-get clean #清理所有软件缓存
#apt-get autoclean #清理旧版本的软件缓存
#apt-get autoremove #删除系统不再使用的孤立软件
#apt-cdrom add #增加一个光盘源
$dpkg -l |grep ^rc|awk '{print $2}' | #xargs dpkg -P #清除所有已删除包的残馀配置文件
#auto-apt run ./configure #编译时缺少h文件的自动处理</code></pre></div></figure><ol start="3"><li><h3 id="安装RealPlay">安装RealPlay</h3></li></ol><p>下载bin包，到realplayer主页上下载 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.real.com/linux">http://www.real.com/linux</a></p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">#chmod 755 ./*.bin #或chmod +x ./*.bin</code></pre></div></figure><p>#./*.bin #一定要root安装，否则安装后无法启动。</p><ol start="4"><li><h3 id="安装FlashPlayer">安装FlashPlayer</h3></li></ol><p>在iceweasel提示安装时选择安装，如果安装失败：</p><p>下载install_flash_player_9_linux.tar.gz并解压，进入解压目录，执行</p><p>安装：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo ./flashplayer-installer</code></pre></div></figure><p>若flashplayer菜单有乱码问题的话，执行：sudo mv /etc/fonts/conf.d/49-sansserif.conf /etc/fonts/conf.d/49-sansserif.conf.bak</p><p>安装ttf-freefont字体可解决swf文件中文乱码。</p><ol start="5"><li>编译Code::Blocks的SVN版本</li></ol><p>(a) 下载源码</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">svn checkout svn://svn.berlios.de/codeblocks/trunk ~/Sources/CodeBlocks</code></pre></div></figure><p>(b) 编译</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">export ACLOCAL_FLAGS="-I `wx-config --prefix`/share/aclocal"

./bootstrap

./configure 或 ./configure --with-contrib-plugins=all

make

sudo make install</code></pre></div></figure><p>© 缷载</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo make uninstall</code></pre></div></figure><p>(d) 重新编译</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">make clean
make distclean
make clean-bin
make clean-zipfiles</code></pre></div></figure><p>详情：<a target="_blank" rel="noopener external nofollow noreferrer" href="https://wiki.codeblocks.org/index.php?title=Installing_Code::Blocks_from_source_on_Linux">http://wiki.codeblocks.org/index.php…ource_on_Linux</a></p><p>● 关于64位系统使用32位软件额外需求</p><p>64位系统同样能使用32位的软件，只要在终端输入以下命令，安装相应的32位包：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">sudo apt-get install ia32-libs ia32-libs-gtk linux32 lib32asound2</code></pre></div></figure><h2 id="●-MLdonkey-sancho安装">● MLdonkey+sancho安装</h2><p>MLdonkey被誉为<a target="_blank" rel="noopener external nofollow noreferrer" href="https://forum.ubuntu.org.cn/viewtopic.php?t=42337&amp;highlight=mldonkey">速度最快的电驴</a>，同时支持很多种P2P的下载协议，包括edonkey2000、gnutella、gnutella2、bt、FileTP</p><p>等等。网上有很多安装和设置的文章，但是有点乱，有些也不够完整，今天有空将它整理如下</p><p>下载最新版 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://sourceforge.net/project/showfiles.php?group_id=156414&amp;package_id=174487">MLdonkey</a> &amp; <a target="_blank" rel="noopener external nofollow noreferrer" href="https://sancho-gui.sourceforge.net/download.phtml">sancho</a>（左键点击）</p><h3 id="一-安装-mldonkey：">一.安装 mldonkey：</h3><p>解压缩mldonkey源代码并进入其目录，然后</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ sudo apt-get install ocaml
$ ./configure
$ make
$ make install</code></pre></div></figure><p>（使用新版本的mldonkey源代码编译安装后已不会有下载后文件名不支持中文的问题）</p><h3 id="二-安装-sancho：">二.安装 sancho：</h3><p>sancho是mldonkey最好用的一个前端，下载回来的sancho只有一个文件，是一个脚本，先右键单击它，找到属性-权限部分，钩上“可执行”，然后在终端中运行之：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ./sancho-*-linux-gtk.sh</code></pre></div></figure><p>然后会显示</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Extract to directory [&lt;sancho-*-linux-gtk&gt;]:</code></pre></div></figure><p>输入自定义安装目录，随便你，我安装在/usr/local/sancho</p><p>稍等一会就装好了，在/usr/local/sancho/下有个sancho，双击它就能运行sancho</p><p># 下载 sancho 后用 root权限安装</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user@~$ sudo sh sancho-0.9.4-59-linux-gtk.sh</code></pre></div></figure><p># 选择安装目录, 这里我安装在 /opt/sancho/</p><p># 修改用户配置文件目录的权限</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">user@~$ sudo chown user:user -R ~/.sancho/</code></pre></div></figure><p># 把 user 改成自己的用户名</p><h3 id="三-sancho设置">三.sancho设置</h3><p>先运行mlnet，在/usr/local/bin或/usr/bin下，然后运行sancho，首次运行会有配置向导，需要设置mlnet位置。在sancho里面也可以设置mlnet的运行路径</p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;**sancho:**<strong>主要</strong>-&gt;<strong>可选的可执行core</strong> 那里填上你的mlnet路径。这样以后就可以直接启动sancho。</p><p>设置中文: 在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;**sancho:**<strong>主要</strong>-&gt;<strong>使用本地文件</strong> 选择zh-CN,重启sancho后即为中文。</p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;<strong>Main</strong> 设置 <strong>client_name</strong> 推荐设置成[CHN][VeryCD]<strong>yourname</strong>的形式，支持中文。</p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;<strong>Bandwidth</strong> 设置 <strong>max_hard_upload_rate</strong> 和 <strong>max_hard_download_rate</strong> 分别是上传和下载速度，单位是KB</p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;<strong>Networks</strong> 勾选 <strong>enable_overnet</strong> 和 <strong>enable_kademlia</strong></p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;<strong>Networks</strong>-&gt;<strong>Donkey</strong>有这两项：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ED2K-force_client_high_id
ED2K-force_high_id</code></pre></div></figure><p>如果你是公网用户，或者你是内网，且设置了端口映射，则勾选它们，如果你打死都是内网低ID用户，就不要选了，否则会很难连上服务器。</p><p>你可以选上试试看，不行再取消。</p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;<strong>Networks</strong>-&gt;<strong>Donkey</strong>-&gt;<strong>ED2K-port</strong> 设置端口，如果你有windows下的emule，最好把他们的端口(tcp的)设成一样，因为有些路由器有记忆功能，导致windows下的端口在重启后仍然保留。一般emule默认端口为4662,但有些宽带运营商会封掉该端口，建议改掉。</p><p>在<strong>工具</strong>-&gt;<strong>首选项</strong>-&gt;<strong>Networks</strong>-&gt;<strong>Donkey</strong>-&gt;<strong>ED2K-max_connected_servers</strong> 设置服务器最大连接数，默认为3，不用太大，大了也没用，一般稳定下来也就三四个左右，我把它设为7</p><p>打开sancho主界面，点击控制台，然后在最下方的命令输入框那里</p><p>用如下命令导入服务器</p><p>servers <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.emule.org.cn/server.met">http://www.emule.org.cn/server.met</a></p><p>用ov_load命令导入overnet的node列表，推荐下载<a target="_blank" rel="noopener external nofollow noreferrer" href="https://download.overnet.org/contact.dat">http://download.overnet.org/contact.dat</a></p><p>用kad_load命令导入kad的node列表，推荐下载<a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.emule-inside.net/nodes.dat">http://www.emule-inside.net/nodes.dat</a></p><p>或<a target="_blank" rel="noopener external nofollow noreferrer" href="https://renololo1.free.fr/e/nodes.dat">http://renololo1.free.fr/e/nodes.dat</a>，也可使用eMule的nodes.data</p><p>对于ov_load和kad_load，需要先下载回本地，比如把contact.dat下载到桌面后，输入：</p><p>ov_load /home/xxb/桌面/contact.dat</p><p>路径请修改为适合你自己的。</p><p>修改下载目录和temp目录: 默认目录分别为 ~/.mldonkey/incoming/files （BT则为~/.mldonkey/incoming/directories) 和 ~/.mldonkey/temp</p><p>修改 ~/.mldonkey/downloads.ini，找到“SECTION : Paths”，然后修改第一段和倒数第二段的路径，注意这里是相对路径。下载目录和temp目录最好放在同一个硬盘分区，否则下载完成转移临时文件时，硬 盘灯会狂闪。或者通过建立软链接来更改下载目录也可以（推荐）。</p><p>比如我把下载目录和临时目录都移到/home/xxb/Videos/下，则把~/.mldonkey/下的incoming和temp目录都剪切到/home/xxb/Videos/下，然后建立软链接：</p><figure><div class="code-area"><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ln -s ~/Videos/incoming ~/.mldonkey/incoming

$ ln -s ~/Videos/temp ~/.mldonkey/temp</code></pre></div></figure><h3 id="四-设置浏览器关联">四.设置浏览器关联</h3><p>这里只说firefox的关联，如果需要设置其它浏览器，请参考<a target="_blank" rel="noopener external nofollow noreferrer" href="https://forum.ubuntu.org.cn/viewtopic.php?t=47733&amp;highlight=mldonkey+%E5%85%B3%E8%81%94">mldonkey 和浏览器关联的办法,适用 firefox, konqueror</a></p><p>先建立脚本,这里我们把它取名为 submit, 放在 ~/.mldonkey 下面。内容如下:</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none">#!/bin/bash

echo dllink $*|nc -q 1 127.0.0.1 4000</code></pre></div></figure><p>如果系统是ArchLinux，则需安装netcat(gnu-netcat),并改为</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none">#!/bin/bash

echo dllink $*|nc 127.0.0.1 4000</code></pre></div></figure><p>然后右键单击它，找到属性-权限部分，钩上“可执行”</p><p>接下来在firefox地址栏输入 about:config</p><p>新建 字符串(string)</p><figure><div class="code-area"><pre class="line-numbers language-none"><code class="language-none">network.protocol-handler.app.ed2k</code></pre></div></figure><p>值为submit 脚本的位置，比如我的是 /home/xxb/.mldonkey/submit</p><p>也可以安装firefox扩展，以关联ed2k、bt等，解压后的mldoneky-distrib-xxx/ed2k_mozilla/文件夹下 有个 mldonkey_protocol_handler-xx.xpi，把它拖到fx窗口选择安装。重启后就可以双击MLdonkey Protocal Handler这个扩展设置关联了，这个扩展也可以关联到amule。不过扩展当然是能不装就不装，所以推荐使用submit脚本的方法。</p><h3 id="五-WEB界面">五.WEB界面</h3><p>你也可以用浏览器控制和观察mldonkey，地址是 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://localhost:4080/">http://localhost:4080/</a></p><p>我比较推崇用这个，不占额外资源（不必一直开着sancho，毕竟java的东西会占不少内存和cpu），设置更强，不过是英文的。你还可以编辑~/.mldonkey下的各个文件进行设置，这里不再敖述。</p><h3 id="六-端口映射">六.端口映射</h3><p>打开 <a target="_blank" rel="noopener external nofollow noreferrer" href="https://localhost:4080/">http://localhost:4080/</a>后，点击<strong>Help+</strong>-&gt;<strong>Sysinfo</strong> 这里可以查看mldonkey的端口使用情况，除了core那3个，建议其余的都在路由器里设置端口映射，如果有防火墙，还要打开相应端口。</p><p><a target="_blank" rel="noopener external nofollow noreferrer" href="https://www.emule.org.cn/topic/nat/">点击查看各种主流路由器映射的设置方法</a></p><h3 id="七-其它">七.其它</h3><p>本文基本只涉及电驴部分，如果还需要其它比如BT功能，请自行摸索，附一些主要的配置文件：</p><ul><li><p>~/.mldonkey/downloads.ini 基本的设置( 这个是for edonkey和其他协议的)</p></li><li><p>~/.mldonkey/servers.ini 服务器列表文件</p></li><li><p>~/.mldonkey/files.ini 当前已经完成的和未完成的文件列表</p></li><li><p>~/.mldonkey/friends.ini 好友列表</p></li><li><p>~/.mldonkey_gui.ini 图形前端的配置文件</p></li></ul><p>另外其他的网络协议都有其单独的配置文件，一般都放在~/.mldonkey目录下</p><p>祝骑驴愉快 <sup>_</sup></p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">作者: </i></span><span class="reprint-info"><a href="https://blog.17lai.site" rel="external nofollow noreferrer">夜法之书</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://blog.17lai.site/posts/b1fe1bb8/">https://blog.17lai.site/posts/b1fe1bb8/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://blog.17lai.site" target="_blank">夜法之书</a> !</span></div></div><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/driver/"><span class="chip bg-color">driver</span> </a><a href="/tags/debian/"><span class="chip bg-color">debian</span> </a><a href="/tags/laptop/"><span class="chip bg-color">laptop</span> </a><a href="/tags/ed2k/"><span class="chip bg-color">ed2k</span> </a><a href="/tags/ati/"><span class="chip bg-color">ati</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,qq,qzone,wechat,weibo,douban" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div></div></div></div><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close" href="javascript:;" rel="external nofollow noreferrer" aria-label="打赏作者"><i class="fa fa-times-circle"></i></a><p class="reward-title">码字辛苦，打赏作者！</p><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias_webp/reward/alipay.webp" width="511" height="511" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload loading="lazy" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias_webp/reward/wechat.webp" width="595" height="580" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload loading="lazy" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><div class="webpush-dingyue" style="margin:10px 0;text-align:center"><div id="webpushr-subscription-button" data-size="small" data-button-text="订阅博文" data-subscriber-count-text="个用户已订阅" data-background-color="#6295d0"></div></div></div></div><div id="comments" lazyload><div class="card waline-card" data-aos="fade-up"><div class="comment_headling" style="font-size:20px;font-weight:700;position:relative;padding-left:20px;top:15px;padding-bottom:5px"><i class="fas fa-comments fa-fw" aria-hidden="true"></i> <span>评论</span></div><div class="center hvcenter" id="loading_data"><i class="fas fa-spinner fa-pulse"></i> <span>数据加载中 ...</span></div><div id="waline" class="card-content" style="display:grid"></div></div><div id="to_comment" data-umami-event-commentbtn="comment btn click" class="comment-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="javascript:;" rel="external nofollow noreferrer" title="直达评论"><i class="fas fa-comments"></i></a></div></div><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/posts/5b1993ac/"><div class="card-image card-image-V"><div class="box-content"><p class="title">阅读全文</p><span class="post" style="width:180px">qnap IO 错误消除</span></div><img src="/medias_webp/cover/qnap.webp" width="1657" height="803" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload class="responsive-img" alt="qnap IO 错误消除"> <span class="card-title title-V">qnap IO 错误消除</span></div></a><div class="card-content article-content"><div class="summary block-with-text">qnap nas 千万不要手动强制关机。极易导致硬盘数据错误。下面记录硬盘 IO 错误消除方法及步骤</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2021-08-18 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/nas/" class="post-category">nas</a></span></div></div><div class="card-action article-tags"><a href="/tags/qnap/"><span class="chip bg-color">qnap</span> </a><a href="/tags/nas/"><span class="chip bg-color">nas</span> </a><a href="/tags/ssd/"><span class="chip bg-color">ssd</span> </a><a href="/tags/hdd/"><span class="chip bg-color">hdd</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/posts/8f76d9dd/"><div class="card-image card-image-V"><div class="box-content"><p class="title">阅读全文</p><span class="post" style="width:180px">transmission 使用及其配置</span></div><img src="/medias_webp/cover/transmission.webp" width="901" height="431" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload class="responsive-img" alt="transmission 使用及其配置"> <span class="card-title title-V">transmission 使用及其配置</span></div></a><div class="card-content article-content"><div class="summary block-with-text">BT下载好工具，最低内存占用的工具，最低资源占用！transmission 使用及其配置全介绍，以及一些常见问题。</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2021-08-18 </span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/nas/" class="post-category">nas</a></span></div></div><div class="card-action article-tags"><a href="/tags/bt/"><span class="chip bg-color">bt</span> </a><a href="/tags/pt/"><span class="chip bg-color">pt</span> </a><a href="/tags/qnap/"><span class="chip bg-color">qnap</span> </a><a href="/tags/nas/"><span class="chip bg-color">nas</span> </a><a href="/tags/transmission/"><span class="chip bg-color">transmission</span></a></div></div></div></div></article></div></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div id="aside-container" style="display:flex;flex-direction:column"><div class="toc-widget card"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div><div class="tgCard card"><div class="tg-container"><div class="tg-Card col-12" style="background-color:#f66"><a href="mailto:admin@17lai.fun" rel="external nofollow noreferrer" target="_blank" class="tg-link" data-tg-id="ad-1"><span class="tg-text">广告招租测试!</span></a></div><div class="tg-Card col-6" style="background-color:#6cf"><a href="mailto:admin@17lai.fun" rel="external nofollow noreferrer" target="_blank" class="tg-link" data-tg-id="ad-2"><span class="tg-text">广告招租</span></a></div><div class="tg-Card col-6" style="background-color:#6f6"><a href="mailto:admin@17lai.fun" rel="external nofollow noreferrer" target="_blank" class="tg-link" data-tg-id="ad-3"><span class="tg-text">广告招租</span></a></div><div class="tg-Card col-12" style="background-color:var(--card-bg-color)"><a href="/msg/" target="_blank" class="tg-link" data-tg-id="ad-aliHongBao"><img src="https://cimg1.17lai.site/data/2024/11/09/20241109163003.webp" width="794" height="1152" srcset="/medias_webp/loading2.svg" loading="lazy" lazyload alt="支付宝扫码领红包" class="ad-image"></a></div></div></div></div></div></div><div id="floating-toc-btn" data-umami-event-tocbtn="toc btn click" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color" href="javascript:;" rel="external nofollow noreferrer" title="显示/隐藏目录"><i class="fas fa-list-ul"></i></a></div></main><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2020-2025</span> <a href="/about" target="_blank">夜法之书</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" rel="external nofollow noreferrer" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" rel="external nofollow noreferrer" target="_blank">Matery</a> <span id="translate">|&nbsp;繁/简：</span><a id="translateLink" href="javascript:translatePage();" rel="external nofollow noreferrer">繁</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">737.4k</span> <span id="busuanzi_container_site_pv" style="display:none">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp; <span id="busuanzi_value_site_pv" class="white-color"></span><i id="busuanzi_loading_icon_site_pv" class="fas fa-sync fa-spin"></i> </span><span id="busuanzi_container_site_uv" style="display:none">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp; <span id="busuanzi_value_site_uv" class="white-color"></span><i id="busuanzi_loading_icon_site_uv" class="fas fa-sync fa-spin"></i></span><br><span id="sitetime">Loading ...</span><script>var calcSiteTime=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,i=e.getDate(),a=e.getHours(),r=e.getMinutes(),s=e.getSeconds(),o=Date.UTC("2020","6","28","0","0","0"),g=Date.UTC(t,n,i,a,r,s)-o,d=Math.floor(g/31536e6),m=Math.floor(g/864e5-365*d);if("2020"===String(t)){document.getElementById("year").innerHTML=t;var l="This site has been running for "+m+" days";l="本站已运行 "+m+" 天",document.getElementById("sitetime").innerHTML=l}else{document.getElementById("year").innerHTML="2020 - "+t;var c="This site has been running for "+d+" years and "+m+" days";c="本站已运行 "+d+" 年 "+m+" 天",document.getElementById("sitetime").innerHTML=c}};calcSiteTime()</script><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/appotry" rel="external nofollow noreferrer" class="tooltipped" target="_blank" aria-label="访问我的GitHub" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github fa-fw"></i> </a><a href="https://hub.docker.com/u/bloodstar" rel="external nofollow noreferrer" class="tooltipped" target="_blank" aria-label="访问我的DockerHub" data-tooltip="访问我的DockerHub" data-position="top" data-delay="50"><i class="fab fa-docker fa-fw"></i> </a><a href="mailto:admin@17lai.fun" rel="external nofollow noreferrer" class="tooltipped" target="_blank" aria-label="邮件联系我" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open fa-fw"></i> </a><a href="/atom.xml" class="tooltipped" target="_blank" aria-label="RSS 订阅" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss fa-fw"></i></a></div></div></footer><div class="progress-bar"></div><div class="deng-box"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">新春</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div><div class="deng-box1"><div class="deng"><div class="xian"></div><div class="deng-a"><div class="deng-b"><div class="deng-t">快乐</div></div></div><div class="shui shui-a"><div class="shui-c"></div><div class="shui-b"></div></div></div></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header center"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <a class="close modal-close" href="javascript:;" rel="external nofollow noreferrer" title="关闭搜索"><span class="popup-btn-close" role="button"><i class="fas fa-times"></i></span></a></div><div class="center hvcenter" id="loading_search_data"><i class="fas fa-spinner fa-pulse"></i> <span>数据加载中 ...</span></div><div id="searchWrap" class="search-wrap" style="display:none"><div class="search-input-container"><input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div></div><div id="backTop" data-umami-event-backtop="backtop click" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#" title="回到顶部"><i class="fas fa-arrow-up"></i></a></div><script src="/js/ana.js?v=1.1.0" async></script><script type="module" async>import{commentCount}from"/libs/waline/comment.js?v=3.3.2";function upDateComment(){const e=commentCount({serverURL:"https://waline.17lai.site",path:"/posts/b1fe1bb8/"});setTimeout(()=>e(),3e3);try{var n="waline_comments_count",t=document.getElementById(n);t?(t.style.display="inline-block",document.getElementById("waline_commentcount_loading_icon").style.display="none",console.log("[waline] Comment count updated successfully!")):console.log("[waline] Element with id '"+n+"' not found.")}catch(e){console.log("[waline-count][Error] err")}console.log("[waline]update comment count!")}function delayUpDateComment(){setTimeout((function(){upDateComment()}),3e3),console.log("[waline]delay update comment count!")}delayUpDateComment()</script><script>$((function(){let e,n=$(".carousel"),c=!1;n.carousel({duration:Number("180"),fullWidth:!0,indicators:!0,onCycleTo(){var e;c||(e=this,setInterval(()=>{(e.pressed||e.dragged)&&r()},1e3),c=!0)}});let t=function(){e=setInterval((function(){n.carousel("next")}),8e3)};function r(){clearInterval(e),t()}t(),$("#prev-cover").click((function(){n.carousel("prev"),r()})),$("#next-cover").click((function(){n.carousel("next"),r()}))}))</script><script type="text/javascript">function handleSearchClick(){document.getElementById("searchModal");var e=document.getElementById("searchInput"),t=document.getElementById("searchResult");e.value="",t.innerHTML="",downXmlData("https://cfblog.17lai.site/search.xml").then(n=>{searchFunc(n,e,t)}).catch(e=>{console.error("Error downloading XML data:",e)})}var downXmlData=function(e){"use strict";return new Promise((t,n)=>{$.ajax({url:e,dataType:"xml",success:function(e){console.log("SUCCESS 下载玩搜索数据库文件"),document.getElementById("loading_search_data").style.display="none",document.getElementById("searchWrap").style.display="inline",document.getElementById("searchInput").focus(),t(e)},error:function(e,t,r){n(r)}})})},searchFunc=function(e,t,n){"use strict";var r=$("entry",e).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get();t.addEventListener("input",(function(){var e='<ul class="search-result-list">';if(n.innerHTML="",!(this.value.trim().length<=0)){var t=this.value.trim().toLowerCase().split(/[\s\-]+/),a=[];r.forEach((function(e){var n=!0,r=e.title.trim().toLowerCase(),c=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),l=e.url;l=0===l.indexOf("/")?e.url:"/"+l;var s=-1,i=-1,o=[];""!==r&&""!==c&&t.forEach((function(e){s=r.indexOf(e),i=c.indexOf(e),s<0&&i<0?n=!1:(i<0&&(i=0),o.push(i))})),n&&a.push({title:e.title,content:e.content,url:e.url,first_occurs:o})}));var c=a.length;a.forEach((function(n,r){var a=n.title;t.forEach((function(e){var t=new RegExp(e,"gi");a=a.replace(t,'<em class="search-keyword">'+e+"</em>")})),e+="<li><a href='"+n.url+"' class='search-result-title'>"+(r+1)+"/"+c+" "+a+"</a>";var l=n.content.trim().replace(/<[^>]+>/g,""),s=[];n.first_occurs.forEach((function(e,n){if(e>=0){var r=e-20,a=e+80;r<0&&(r=0),0===r&&(a=100),a>l.length&&(a=l.length);var c=l.substr(r,a),i=t[n],o=new RegExp(i,"gi");c=c.replace(o,'<em class="search-keyword">'+i+"</em>"),s.push('<p class="search-result">'+c+"...</p>")}})),e+=s.join(""),e+="</li>"})),e+="</ul>",n.innerHTML=e}}))}</script><script>$((function(){$(".modal-trigger").click((function(){$(".modal").modal()})),$(".tabs").tabs()}))</script><script src="/libs/materialize/materialize.min.js?v=1.2.2"></script><script src="/libs/masonry/masonry.pkgd.min.js?v=4.2.2"></script><script src="/libs/aos/aos.min.js"></script><script src="/js/events.js?v=1.0.0"></script><script src="/js/plugins.js?v=1.0.0"></script><script src="/libs/typed/typed.umd.js?v=2.1.0"></script><script>document.querySelector("#typed-strings")&&document.querySelector("#typed")&&windowWidth>minFunWidth&&new Typed("#typed",{stringsElement:"#typed-strings",startDelay:50,typeSpeed:70,loop:!1,backSpeed:50,showCursor:!0,cursorChar:"_"})</script><script>document.querySelector("#subtitle")&&document.querySelector("#subtitle-strings")&&windowWidth>minFunWidth&&new Typed("#subtitle",{stringsElement:"#subtitle-strings",startDelay:100,typeSpeed:80,loop:!0,backSpeed:50,showCursor:!0})</script><script type="text/javascript">inPageScroll()</script><script>var tocSchemaStorageKey=window.location.pathname.replace(/\/$/,"")+"/toc";function setLS(t,e){try{localStorage.setItem(t,e)}catch(t){}}function getLS(t){try{return localStorage.getItem(t)}catch(t){return null}}getLS(tocSchemaStorageKey)||setLS(tocSchemaStorageKey,"show")</script><script src="/libs/tocbot/tocbot.min.js?v=4.28.2"></script><script>$((function(){if(windowWidth<800)return!0;document.documentElement;var e=jQuery("#toc-aside .toc-widget");if(0===e.length||!window.tocbot)return;var t=jQuery("#headNav").height()+10,o=window.location.pathname.replace(/\/$/,"")+"/toc",s=getLS(o);let n=$("#toc-aside"),l=$("#main-content");function i(e){return"show"===s?(console.log("Current page toc: show"),!0):"hide"===s?(console.log("Current page toc: hide"),!1):void console.log("Current page toc: unknow, use default")}var a=e[0].getElementsByClassName("is-active-li");e[0].getElementsByClassName("toc-title");function c(){tocbot.init({tocSelector:"#toc-content",contentSelector:"#articleContent",headingsOffset:-t,scrollSmoothOffset:-t,collapseDepth:Number("0"),scrollSmooth:!0,headingSelector:"h1,h2,h3,h4,h5,h6"}),e.find(".toc-list-item").length>0&&e.css("visibility","visible")}window.onscroll=()=>{e.length>0&&(a.length>0&&a[0].offsetTop>e[0].offsetHeight&&(e[0].scrollTop=a[0].offsetTop-e[0].offsetHeight/2),a.length>0&&e[0].offsetHeight>a[0].offsetHeight&&(e[0].scrollTop=0),a.length>0&&a[0].offsetTop>e[0].offsetHeight&&(e[0].scrollTop=a[0].offsetTop-e[0].offsetHeight/2))},getLS(o),("show"===s?(console.log("Current page toc: show"),n.addClass("expanded").show(),l.addClass("l9"),1):"hide"===s?(console.log("Current page toc: hide"),n.removeClass("expanded").hide(),l.removeClass("l9"),0):void console.log("Current page toc: unknow, use default"))&&c();let d=parseInt(.75*$(window).height()-64),r=$("#aside-container");$(window).scroll((function(){$(window).scrollTop()>d?r.addClass("toc-fixed"):r.removeClass("toc-fixed")})),fixPostCardWidth("artDetail","prenext-posts"),$("#floating-toc-btn .btn-floating").click((function(){n.hasClass("expanded")?(n.removeClass("expanded").hide(),l.removeClass("l9"),i(getLS(o))||tocbot.destroy(),setLS(o,"hide")):(i(getLS(o))||c(),setLS(o,"show"),n.addClass("expanded").show(),l.addClass("l9")),fixPostCardWidth("artDetail","prenext-posts"),AOS.refresh(),progressBarInit()}))}))</script><script>$("#articleContent").on("copy",(function(e){if(void 0!==window.getSelection){var n=window.getSelection();if(!((""+n).length<Number.parseInt("120"))){var t=document.getElementsByTagName("body")[0],o=document.createElement("div");o.style.position="absolute",o.style.left="-99999px",t.appendChild(o),o.appendChild(n.getRangeAt(0).cloneContents()),"PRE"!==n.getRangeAt(0).commonAncestorContainer.nodeName&&"CODE"!==n.getRangeAt(0).commonAncestorContainer.nodeName||(o.innerHTML="<pre>"+o.innerHTML+"</pre>");var i=document.location.href;o.innerHTML+='<br />来源: 夜法之书<br />作者: 夜法之书<br />文章链接: <a href="'+i+'">'+i+"</a><br />本文章著作权归作者所有，任何形式的转载都请注明出处。",n.selectAllChildren(o),window.setTimeout((function(){t.removeChild(o)}),200)}}}))</script><script>function navToReprintStatement(){$("html, body").animate({scrollTop:$("#reprint-statement").offset().top-80},800)}document.addEventListener("copy",(function(t){M.toast({html:'<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>'})}))</script><script type="text/javascript" async>function refreshAOS(){AOS.refresh()}var throttledFreshAOS=Matery.utils.throttle(refreshAOS,200);for(const e of document.querySelectorAll("[data-lazy-src]"))Matery.utils.waitElementVisible(e,(function(){var t=e.dataset.lazySrc;e.removeAttribute("data-lazy-src"),e.classList.add("preload");var r=new Image;r.onload=function(){e.classList.remove("preload"),e.classList.add("loaded"),e.removeAttribute("bg-lazy"),e.style.backgroundImage="url("+t+")"},r.onerror=function(){r.src=t},r.src=t}),CONFIG.lazyload.offset_factor);for(const e of document.querySelectorAll("[bg-lazy]"))Matery.utils.waitElementVisible(e,(function(){e.removeAttribute("bg-lazy")}),CONFIG.lazyload.offset_factor);for(const e of document.querySelectorAll("img[lazyload]:not([no-lazy])"))Matery.utils.waitElementVisible(e,(function(){e.setAttribute("srcset",e.getAttribute("src")),e.removeAttribute("srcset"),e.removeAttribute("lazyload"),e.classList.add("preload"),e.onload=function(){e.classList.remove("preload"),e.removeAttribute("failed"),e.classList.add("loaded"),throttledFreshAOS();const t=e.parentElement.querySelector(".refresh-button");t&&t.remove()},e.onerror=function(){if(!e.hasAttribute("failed")){e.setAttribute("failed","");const t=document.createElement("button");t.innerText="Reload Image",t.classList.add("refresh-button"),t.addEventListener("click",(function(){for(const e of document.querySelectorAll("img[failed]:not([no-lazy])"))e.src=e.src})),e.parentElement.appendChild(t)}}}),CONFIG.lazyload.offset_factor)</script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js" defer importance="low"></script><script type="text/javascript" src="/js/tw_cn.js?v=1.0.1"></script><script type="text/javascript">var defaultEncoding=2,translateDelay=0,cookieDomain="https://blog.17lai.site",msgToTraditionalChinese="繁",msgToSimplifiedChinese="简",translateButtonId="translateLink";translateInitilization()</script><div class="waifu"><div class="waifu-tips"></div><canvas id="live2d" class="live2d"></canvas><div class="waifu-tool"><span class="fa fa-lg fa-home"></span> <span class="fa fa-lg fa-comment"></span> <span class="fa fa-lg fa-user-circle"></span> <span class="fa fa-lg fa-street-view"></span> <span class="fa fa-lg fa-camera-retro"></span> <span class="fa fa-lg fa-info-circle"></span> <span class="fa fa-lg fa-times-circle"></span></div></div><script type="text/javascript">localStorage.getItem("viewCount")?(localStorage.viewCount=Number(localStorage.viewCount)+1,console.log("Welcome to visited again!")):(localStorage.setItem("viewCount","1"),console.log("Welcome! New Reader!"))</script><script type="text/javascript">var themeStorage=window.localStorage;window.localStorage?(console.log("设定waline count title"),themeStorage.setItem("title","夜法之书")):console.log("浏览器不支持localstorage")</script><script type="text/javascript">if(windowWidth>minFunWidth&&Number(localStorage.viewCount)>2)try{$.ajax({url:"/libs/jquery/jquery-ui.min.js?v=1.14.0",dataType:"script",cache:!0,success:function(){$.ajax({url:"/libs/live2d/waifu-tips.js",dataType:"script",cache:!0,success:function(){$.ajax({url:"/libs/live2d/live2d.js",dataType:"script",cache:!0,success:function(){live2d_settings.modelId=2,live2d_settings.modelTexturesId=17,live2d_settings.modelStorage=!0,live2d_settings.canCloseLive2d=!0,live2d_settings.canTurnToHomePage=!1,live2d_settings.waifuDraggable="axis-x",live2d_settings.waifuDraggableRevert=!0,initModel("/libs/live2d/waifu-tips.json?v=1.0.1")}})}})}})}catch(e){console.log("[Live2d][Error] JQuery is not defined.")}</script><script src="/libs/tag-common/index.js" async></script><script type="module">import{init,commentCount}from"/libs/waline/waline.min.js?v=3.4.2";const locale={lang:"zh-cn",nick:"🧊 昵称",nickError:"昵称不能少于3个字符",mail:"📧 邮箱",mailError:"请填写正确的邮件地址",link:"🔗 网址",optional:"可选",placeholder:"🤣一起来玩，留下你的足迹吧~。评论支持邮箱回复通知！📧\r\n 🚀支持注册登录，并支持weibo QQ Github 社交登录(⊙o⊙)！💖\r\n 💣请文明评论哦禁止恶意评论🈲\r\n ⚠️公开网络空间，请不要发表任何包含个人或其他人的隐私信息⛔",sofa:"🌌 来发评论吧~",submit:"发送留言",like:"喜欢",cancelLike:"取消喜欢",reply:"回复",cancelReply:"取消回复",comment:"评论",refresh:"刷新",more:"加载更多评论...",preview:"预览",emoji:"表情",uploadImage:"上传图片",seconds:"秒前",minutes:"分钟前",hours:"小时前",days:"天前",now:"刚刚",uploading:"正在上传",login:"登录",logout:"退出",admin:"博主",sticky:"置顶",word:"个字",wordHint:"评论字数应在 $0 到 $1 字之间！\n当前字数：$2",anonymous:"匿名",level0:"潜水",level1:"冒泡",level2:"吐槽",level3:"活跃",level4:"话痨",level5:"传说",gif:"表情包",gifSearchPlaceholder:"搜索表情包",profile:"个人资料",approved:"通过",waiting:"待审核",spam:"垃圾",unsticky:"取消置顶",oldest:"按倒序",latest:"按正序",hottest:"按热度",reactionTitle:"雁过留声！人过留名！",reaction0:"赞一个",reaction1:"踩一下",reaction2:"有点酷",reaction3:"看不懂",reaction4:"啥玩意",reaction5:"想睡觉"};function initWaline(){console.log("[WALINE]init waline"),init({el:"#waline",locale:locale,serverURL:"https://waline.17lai.site",path:"/posts/b1fe1bb8/",avatar:"mp",emoji:["//fastly.jsdelivr.net/gh/walinejs/emojis@latest/weibo"],lang:"zh-CN",dark:'html[data-user-color-scheme="dark"]',login:"enable",wordLimit:"1000",pageSize:"10",highlighter:(e,n)=>(window.Prism.languages[n]||window.Prism.plugins.autoloader.loadLanguages(n),window.Prism.highlight(e,window.Prism.languages[n]||window.Prism.languages.text,n)),pageview:!1,comment:!0,reaction:["https://testingcf.jsdelivr.net/npm/@waline/emojis/tieba/tieba_agree.png","https://testingcf.jsdelivr.net/npm/@waline/emojis/tieba/tieba_look_down.png","https://testingcf.jsdelivr.net/npm/@waline/emojis/tieba/tieba_sunglasses.png","https://testingcf.jsdelivr.net/npm/@waline/emojis/tieba/tieba_pick_nose.png","https://testingcf.jsdelivr.net/npm/@waline/emojis/tieba/tieba_awkward.png","https://testingcf.jsdelivr.net/npm/@waline/emojis/tieba/tieba_sleep.png"],search:!1,imageUploader:!1,meta:["nick","mail","link"],recaptchaV3Key:"6LeUY0MiAAAAABNBvi6m4PcCtKkv_W6x-_YhTb6n",requiredMeta:["nick","mail"]}),document.getElementById("loading_data").style.display="none";{function e(){const e=commentCount({serverURL:"https://waline.17lai.site",path:"/posts/b1fe1bb8/"});setTimeout(()=>e(),2e3);try{wa_ccc="waline_comments_count",document.getElementById(wa_ccc).style.display="inline-block"}catch(e){console.log("[waline-count][Error] err")}console.log("[waline]update comment count!")}function n(){setTimeout((function(){e()}),5e3),console.log("[waline]delay update comment count!")}try{var i=document.body.getElementsByClassName("wl-btn primary");void 0!==i[0]?(void 0!==window.addEventListener?i[0].addEventListener("click",n,!1):i[0].attachEvent("onclick",n),e()):console.log("[waline]没有登录waline!")}catch(e){console.error("An error occurred while handling the element:",e)}}AOS.refresh(),progressBarInit()}function loadWaline(){try{const e=document.createElement("link");e.rel="stylesheet",e.href="/libs/waline/waline.min.css?v=3.4.2",document.head.appendChild(e);import("/libs/waline/waline.min.js?v=3.4.2").then(()=>{initWaline()}).catch(e=>{console.error("Failed to load waline script:",e)})}catch(e){console.log("[SHARE][Error] Failed to load Waline:",e)}}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout((function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver((function(n){n[0].isIntersecting&&(loadWaline(),e.disconnect())}),{threshold:[0]});e.observe(document.getElementById("comments"))}else loadWaline()}),1)</script><script>AOS.refresh(),progressBarInit()</script><script>function loadShare(){try{jQuery.ajax({url:"/libs/share/js/social-share.min.js?v=1.0.16",dataType:"script",cache:!0,success:function(){}})}catch(e){console.log("[SHARE][Error] JQuery is not defined.")}}var runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout((function(){if(!isBot&&supportsIntersectionObserver){var e=new IntersectionObserver((function(n){n[0].isIntersecting&&(loadShare(),e.disconnect())}),{threshold:[0]});e.observe(document.getElementById("article-share"))}else loadShare()}),1)</script><script type="text/javascript" defer>progressBarInit()</script><script type="text/javascript" size="150" alpha="0.6" zindex="-1" src="/libs/background/ribbon.min.js" async></script><script defer src="/libs/prism/components/prism-core.min.js"></script><script defer src="/libs/prism/plugins/autoloader/prism-autoloader.min.js"></script><script defer src="/libs/prism/plugins/line-numbers/prism-line-numbers.min.js"></script><script>Matery.plugins.codeWidget()</script><script>Matery.utils.createScript("/libs/anchor/anchor.min.js",(function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var a of n)o.push(".markdown-body #articleContent > "+a.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Matery.events.registerRefreshCallback((function(){if("anchors"in window){anchors.removeAll();var n=(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","),o=[];for(var a of n)o.push(".markdown-body #articleContent > "+a.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}}))}))</script><script defer src="/libs/instantpage/instantpage.min.js" type="module" importance="low"></script><script src="/js/boot.js?v=1.0.0"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/assets/mmedia/mmedia-loader.js"></script><script defer>if (localStorage.viewCount > 1) {
            (function (w, d, s, id) {
            if (typeof (w.webpushr) !== 'undefined' || isBot) return; 
            w.webpushr = w.webpushr || function () { (w.webpushr.q = w.webpushr.q || []).push(arguments) }; 
            var js, fjs = d.getElementsByTagName(s)[0]; 
            js = d.createElement(s); 
            js.id = id; 
            js.async = true; 
            js.src = "https://cdn.webpushr.com/app.min.js";
            fjs.parentNode.appendChild(js);
            }(window, document, 'script', 'webpushr-jssdk'));
            webpushr('setup', { 'key': 'BDHamjevXR9yPJrttxl80MjCYEwm3CKzwsi3rwMXxq4Lnbzhr2fNQARqXJVhfBn_ucmy9QHixa3qps8eEFXBwmw' });
        }</script></body></html>